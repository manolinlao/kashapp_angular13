
> fujitsu-mdcs-iot-devices@0.0.1 test8
> rimraf dist-test && tsc --project tsconfig.test.json && set PINO_PRETTY=1&& set PINO_LOG_LEVEL=trace&&node ./dist-test/test/forgetBillsStressTest.js

[11:10:45.819] [32mINFO[39m (Xfs4IotServiceDiscovery): [36mEmpieza el arranque del ServicePublisherDiscovery para encontrar todos los ServicePublisher de la maquina: 10.13.13.10[39m
[11:10:46.211] [34mDEBUG[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::SSL[false]::port[80] connection stablished: ws://10.13.13.10:80/xfs4iot/v1.0/[39m
[11:10:46.252] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mServicePublisher del vendedor: Fujitsu[39m
[11:10:46.252] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36m    0 -> ws://10.13.13.10/xfs4iot/v1.0/CashDispenserXFS3/[39m
[11:10:45.813] [34mDEBUG[39m (MdcsIotDevices): [36m(async) start::Empieza el parseo de las configuraciones[39m
[11:10:45.819] [34mDEBUG[39m (MdcsIotDevices): [36mfound property: MAGSTRIPE=CARD_READER,KAL,SimCardReader[39m
[11:10:45.819] [34mDEBUG[39m (MdcsIotDevices): [36mfound property: MAGSTRIPE_FUJ=CARD_READER,Fujitsu,card-reader[39m
[11:10:45.819] [34mDEBUG[39m (MdcsIotDevices): [36mfound property: CASH=CASH_DISPENSER,Fujitsu,CashDispenserXFS3[39m
[11:10:45.819] [34mDEBUG[39m (MdcsIotDevices): [36m(async) start::Empieza la conexion con los dispositivos[39m
[11:10:48.662] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5848. SSL = false. Error = Error: Error del websocket[39m
[11:10:48.662] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5849. SSL = false. Error = Error: Error del websocket[39m
[11:10:48.663] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5847. SSL = false. Error = Error: Error del websocket[39m
[11:10:48.663] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5846. SSL = false. Error = Error: Error del websocket[39m
[11:10:48.663] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5850. SSL = false. Error = Error: Error del websocket[39m
[11:10:48.664] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5851. SSL = false. Error = Error: Error del websocket[39m
[11:10:48.664] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5852. SSL = false. Error = Error: Error del websocket[39m
[11:10:48.665] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5854. SSL = false. Error = Error: Error del websocket[39m
[11:10:48.666] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5855. SSL = false. Error = Error: Error del websocket[39m
[11:10:48.667] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5853. SSL = false. Error = Error: Error del websocket[39m
[11:10:48.692] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5856. SSL = false. Error = Error: Error del websocket[39m
[11:10:51.070] [33mWARN[39m (MdcsIotDevices): [36mno se encuentra el servicio o vendedor: SimCardReader[39m
[11:10:51.071] [33mWARN[39m (MdcsIotDevices): [36mno se encuentra el servicio o vendedor: card-reader[39m
[11:10:51.071] [32mINFO[39m (MdcsIotDevices): [36mHan acabado de inicializar todos los CARD_READER[39m
[11:10:51.080] [34mDEBUG[39m (MdcsIotDevices): [36mcallback del init[CASH]: starting websocket[39m
[11:10:51.075] [90mTRACE[39m (Device): [36m|------------> _init((msg) => this.logger.debug(`callback del init[${device.name}]: ${msg}`))[39m
[11:10:51.150] [90mTRACE[39m (Device): [36m|------------> getCapabilities()[39m
[11:10:51.151] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"Common.Capabilities","type":"command","requestId":1},"payload":{"timeout":20000}}, (ack) => this.logger.debug(`ack received${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved${JSON.stringify(event)}`))[39m
[11:10:51.150] [34mDEBUG[39m (MdcsIotDevices): [36mcallback del init[CASH]: websockets configured[39m
[11:10:51.042] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 443. SSL = true. Error = Error: Error del websocket[39m
[11:10:51.043] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5848. SSL = true. Error = Error: Error del websocket[39m
[11:10:51.043] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5850. SSL = true. Error = Error: Error del websocket[39m
[11:10:51.044] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5846. SSL = true. Error = Error: Error del websocket[39m
[11:10:51.044] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5847. SSL = true. Error = Error: Error del websocket[39m
[11:10:51.050] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5849. SSL = true. Error = Error: Error del websocket[39m
[11:10:51.051] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5853. SSL = true. Error = Error: Error del websocket[39m
[11:10:51.051] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5852. SSL = true. Error = Error: Error del websocket[39m
[11:10:51.051] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5851. SSL = true. Error = Error: Error del websocket[39m
[11:10:51.052] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5856. SSL = true. Error = Error: Error del websocket[39m
[11:10:51.069] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5855. SSL = true. Error = Error: Error del websocket[39m
[11:10:51.069] [90mTRACE[39m (Xfs4IotServiceDiscovery): [36mdiscoverServices::Error connection port 5854. SSL = true. Error = Error: Error del websocket[39m
[11:10:51.070] [32mINFO[39m (Xfs4IotServiceDiscovery): [36mSe han encontrado: 1 service publishers usando WS.[39m
[11:10:51.070] [32mINFO[39m (Xfs4IotServiceDiscovery): [36mSe han encontrado: 0 service publishers usando WSS.[39m
[11:10:51.409] [34mDEBUG[39m (MdcsIotDevices): [36mcallback del init[CASH]: capabilitites ok[39m
[11:10:51.408] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"interfaces":[{"name":"common","commands":{"Common.Capabilities":{"versions":["1.0"]},"Common.Status":{"versions":["1.0"]}},"events":{"Common.PowerSaveChangeEvent":{"versions":["1.0"]}},"maximumRequests":0},{"name":"cashDispenser","commands":{"CashDispenser.Denominate":{"versions":["1.0"]},"CashDispenser.Dispense":{"versions":["1.0"]},"CashDispenser.Present":{"versions":["1.0"]},"CashDispenser.GetPresentStatus":{"versions":["1.0"]},"CashDispenser.GetMixTypes":{"versions":["1.0"]}},"maximumRequests":0},{"name":"cashManagement","commands":{"CashManagement.Reset":{"versions":["1.0"]}},"events":{"CashManagement.ItemsTakenEvent":{"versions":["1.0"]},"CashManagement.ItemsPresentedEvent":{"versions":["1.0"]}},"maximumRequests":0},{"name":"storage","commands":{"Storage.GetStorage":{"versions":["1.0"]},"Storage.SetStorage":{"versions":["1.0"]}},"events":{"Storage.StorageChangedEvent":{"versions":["1.0"]}},"maximumRequests":0}],"common":{"serviceVersion":"1.0","deviceInformation":[{"modelName":"G510","revisionNumber":"1.0","modelDescription":"G510 Dispenser","firmware":[{"firmwareName":"ES8000","firmwareVersion":"1.0","hardwareRevision":"1.0"}],"software":[{"softwareName":"XFS4 SP","softwareVersion":"1.0"}]}],"powerSaveControl":false,"antiFraudModule":false},"cashDispenser":{"type":"selfServiceBill","maxDispenseItems":60,"shutterControl":true,"retractAreas":{"retract":false,"transport":false,"stacker":false,"reject":true,"itemCassette":false},"retractTransportActions":{"present":false,"retract":false,"reject":false,"itemCassette":false},"retractStackerActions":{"present":false,"retract":false,"reject":false,"itemCassette":false},"intermediateStacker":true,"itemsTakenSensor":true,"positions":{"left":false,"right":false,"center":false,"top":false,"bottom":false,"front":true,"rear":false},"moveItems":{"fromCashUnit":true,"toCashUnit":false,"toTransport":false,"toStacker":true}},"cashManagement":{"cashBox":false,"exchangeType":{"byHand":true},"itemInfoTypes":{"serialNumber":true,"signature":false,"image":false},"classificationList":false},"completionCode":"success","errorDescription":""},"header":{"name":"Common.Capabilities","requestId":1,"type":"completion"}}[39m
[11:10:51.409] [90mTRACE[39m (Device): [36m<------------| return from getCapabilities: {"payload":{"interfaces":[{"name":"common","commands":{"Common.Capabilities":{"versions":["1.0"]},"Common.Status":{"versions":["1.0"]}},"events":{"Common.PowerSaveChangeEvent":{"versions":["1.0"]}},"maximumRequests":0},{"name":"cashDispenser","commands":{"CashDispenser.Denominate":{"versions":["1.0"]},"CashDispenser.Dispense":{"versions":["1.0"]},"CashDispenser.Present":{"versions":["1.0"]},"CashDispenser.GetPresentStatus":{"versions":["1.0"]},"CashDispenser.GetMixTypes":{"versions":["1.0"]}},"maximumRequests":0},{"name":"cashManagement","commands":{"CashManagement.Reset":{"versions":["1.0"]}},"events":{"CashManagement.ItemsTakenEvent":{"versions":["1.0"]},"CashManagement.ItemsPresentedEvent":{"versions":["1.0"]}},"maximumRequests":0},{"name":"storage","commands":{"Storage.GetStorage":{"versions":["1.0"]},"Storage.SetStorage":{"versions":["1.0"]}},"events":{"Storage.StorageChangedEvent":{"versions":["1.0"]}},"maximumRequests":0}],"common":{"serviceVersion":"1.0","deviceInformation":[{"modelName":"G510","revisionNumber":"1.0","modelDescription":"G510 Dispenser","firmware":[{"firmwareName":"ES8000","firmwareVersion":"1.0","hardwareRevision":"1.0"}],"software":[{"softwareName":"XFS4 SP","softwareVersion":"1.0"}]}],"powerSaveControl":false,"antiFraudModule":false},"cashDispenser":{"type":"selfServiceBill","maxDispenseItems":60,"shutterControl":true,"retractAreas":{"retract":false,"transport":false,"stacker":false,"reject":true,"itemCassette":false},"retractTransportActions":{"present":false,"retract":false,"reject":false,"itemCassette":false},"retractStackerActions":{"present":false,"retract":false,"reject":false,"itemCassette":false},"intermediateStacker":true,"itemsTakenSensor":true,"positions":{"left":false,"right":false,"center":false,"top":false,"bottom":false,"front":true,"rear":false},"moveItems":{"fromCashUnit":true,"toCashUnit":false,"toTransport":false,"toStacker":true}},"cashManagement":{"cashBox":false,"exchangeType":{"byHand":true},"itemInfoTypes":{"serialNumber":true,"signature":false,"image":false},"classificationList":false},"completionCode":"success","errorDescription":""},"header":{"name":"Common.Capabilities","requestId":1,"type":"completion"}}[39m
[11:10:51.409] [90mTRACE[39m (Device): [36m|------------> getStatus()[39m
[11:10:51.410] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"Common.Status","type":"command","requestId":2},"payload":{"timeout":20000}}, (ack) => this.logger.debug(`ack received${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved${JSON.stringify(event)}`))[39m
[11:10:51.656] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"common":{"device":"online","devicePosition":"unknown","powerSaveRecoveryTime":0,"antiFraudModule":"unknown","exchange":"inactive"},"cashDispenser":{"intermediateStacker":"empty","positions":[{"position":"outFront","shutter":"closed","positionStatus":"empty","transport":"ok","transportStatus":"empty"}]},"cashManagement":{"safeDoor":"doorNotSupported","dispenser":"attention"},"completionCode":"success","errorDescription":""},"header":{"name":"Common.Status","requestId":2,"type":"completion"}}[39m
[11:10:51.669] [90mTRACE[39m (Device): [36m<------------| return from getStatus: {"payload":{"common":{"device":"online","devicePosition":"unknown","powerSaveRecoveryTime":0,"antiFraudModule":"unknown","exchange":"inactive"},"cashDispenser":{"intermediateStacker":"empty","positions":[{"position":"outFront","shutter":"closed","positionStatus":"empty","transport":"ok","transportStatus":"empty"}]},"cashManagement":{"safeDoor":"doorNotSupported","dispenser":"attention"},"completionCode":"success","errorDescription":""},"header":{"name":"Common.Status","requestId":2,"type":"completion"}}[39m
[11:10:51.672] [90mTRACE[39m (CashDispenser): [36m|------------> init((msg) => this.logger.debug(`callback del init[${device.name}]: ${msg}`), {"payload":{"interfaces":[{"name":"common","commands":{"Common.Capabilities":{"versions":["1.0"]},"Common.Status":{"versions":["1.0"]}},"events":{"Common.PowerSaveChangeEvent":{"versions":["1.0"]}},"maximumRequests":0},{"name":"cashDispenser","commands":{"CashDispenser.Denominate":{"versions":["1.0"]},"CashDispenser.Dispense":{"versions":["1.0"]},"CashDispenser.Present":{"versions":["1.0"]},"CashDispenser.GetPresentStatus":{"versions":["1.0"]},"CashDispenser.GetMixTypes":{"versions":["1.0"]}},"maximumRequests":0},{"name":"cashManagement","commands":{"CashManagement.Reset":{"versions":["1.0"]}},"events":{"CashManagement.ItemsTakenEvent":{"versions":["1.0"]},"CashManagement.ItemsPresentedEvent":{"versions":["1.0"]}},"maximumRequests":0},{"name":"storage","commands":{"Storage.GetStorage":{"versions":["1.0"]},"Storage.SetStorage":{"versions":["1.0"]}},"events":{"Storage.StorageChangedEvent":{"versions":["1.0"]}},"maximumRequests":0}],"common":{"serviceVersion":"1.0","deviceInformation":[{"modelName":"G510","revisionNumber":"1.0","modelDescription":"G510 Dispenser","firmware":[{"firmwareName":"ES8000","firmwareVersion":"1.0","hardwareRevision":"1.0"}],"software":[{"softwareName":"XFS4 SP","softwareVersion":"1.0"}]}],"powerSaveControl":false,"antiFraudModule":false},"cashDispenser":{"type":"selfServiceBill","maxDispenseItems":60,"shutterControl":true,"retractAreas":{"retract":false,"transport":false,"stacker":false,"reject":true,"itemCassette":false},"retractTransportActions":{"present":false,"retract":false,"reject":false,"itemCassette":false},"retractStackerActions":{"present":false,"retract":false,"reject":false,"itemCassette":false},"intermediateStacker":true,"itemsTakenSensor":true,"positions":{"left":false,"right":false,"center":false,"top":false,"bottom":false,"front":true,"rear":false},"moveItems":{"fromCashUnit":true,"toCashUnit":false,"toTransport":false,"toStacker":true}},"cashManagement":{"cashBox":false,"exchangeType":{"byHand":true},"itemInfoTypes":{"serialNumber":true,"signature":false,"image":false},"classificationList":false},"completionCode":"success","errorDescription":""},"header":{"name":"Common.Capabilities","requestId":1,"type":"completion"}}, {"payload":{"common":{"device":"online","devicePosition":"unknown","powerSaveRecoveryTime":0,"antiFraudModule":"unknown","exchange":"inactive"},"cashDispenser":{"intermediateStacker":"empty","positions":[{"position":"outFront","shutter":"closed","positionStatus":"empty","transport":"ok","transportStatus":"empty"}]},"cashManagement":{"safeDoor":"doorNotSupported","dispenser":"attention"},"completionCode":"success","errorDescription":""},"header":{"name":"Common.Status","requestId":2,"type":"completion"}})[39m
[11:10:51.677] [90mTRACE[39m (CashDispenser): [36m|------------> getStorageInfo()[39m
[11:10:51.683] [90mTRACE[39m (Device): [36m|------------> send({"requestId":3,"timeout":60000,"header":{"name":"Storage.GetStorage","requestId":3,"type":"command"},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:10:51.670] [34mDEBUG[39m (MdcsIotDevices): [36mcallback del init[CASH]: status ok[39m
[11:10:52.041] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"storage":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR50"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR20"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit3":{"id":"D0003","positionName":"CASSETTE3","capacity":2000,"status":"missing","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit4":{"id":"D0004","positionName":"CASSETTE4","capacity":2000,"status":"missing","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}},"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":159,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":159,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":159,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"completionCode":"success"},"header":{"name":"Storage.GetStorage","requestId":3,"type":"completion"}}[39m
[11:10:52.054] [90mTRACE[39m (CashDispenser): [36mupdateUnits updateUnits({"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR50"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR20"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit3":{"id":"D0003","positionName":"CASSETTE3","capacity":2000,"status":"missing","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit4":{"id":"D0004","positionName":"CASSETTE4","capacity":2000,"status":"missing","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}},"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":159,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":159,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":159,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}})[39m
[11:10:52.062] [90mTRACE[39m (CashDispenser): [36mupdateUnits return from updateUnits: undefined[39m
[11:10:52.062] [90mTRACE[39m (CashDispenser): [36m<------------| return from getStorageInfo: undefined[39m
[11:10:52.062] [90mTRACE[39m (CashDispenser): [36m|------------> getMixTypes()[39m
[11:10:52.065] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.GetMixTypes","type":"command","requestId":4},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:10:52.661] [34mDEBUG[39m (MdcsIotDevices): [36mcallback del init[CASH]: CashDispenser initialized[39m
[11:10:52.661] [32mINFO[39m (MdcsIotDevices): [36mHan acabado de inicializar todos los CASH_DISPENSER[39m
[11:10:52.661] [34mDEBUG[39m (MdcsIotDevices): [36m(async) start::Empieza el arranque del de la capa devices (puerto 3100)[39m
[11:10:52.659] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"mixes":{"mix1":{"type":"algorithm","algorithm":"minimumBills","name":"Minimum Number Of Bills"},"mix2":{"type":"algorithm","algorithm":"equalEmptying","name":"Equal emptying of cash units"}},"completionCode":"success"},"header":{"name":"CashDispenser.GetMixTypes","requestId":4,"type":"completion"}}[39m
[11:10:52.659] [90mTRACE[39m (CashDispenser): [36m<------------| return from getMixTypes: undefined[39m
[11:10:52.661] [90mTRACE[39m (CashDispenser): [36m<------------| return from init: undefined[39m
[11:10:52.661] [90mTRACE[39m (Device): [36m<------------| return from _init: undefined[39m
[FBST] Empieza test forgetBillsStressTest
[FBST] result: {"device":"CASH_DISPENSER","type":"AvailableBills","maxBillsDispensables":60,"bills":[{"denom":10,"numBills":400},{"denom":20,"numBills":300},{"denom":50,"numBills":500}]}
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[11:10:53.157] [34mDEBUG[39m (MdcsIotDevices): [36mcreateConnection openned connection on: wss://signaling.demoreta-arevalo.com:443[39m
[11:10:53.158] [32mINFO[39m (MdcsIotDevices): [36mHan acabado de inicializar la conectividad con signaling server[39m
[11:10:53.172] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:10:53.172] [34mDEBUG[39m (MdcsIotDevices): [36mSuccessfully connected user on: CASH[39m
[11:10:53.175] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"type":"AvailableBills","device":"CASH_DISPENSER"}[39m
[11:10:53.179] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}[39m
[11:10:53.180] [90mTRACE[39m (Function): [36m buildDenominationFromDispenseDistributionCommand({"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}, {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR50"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR20"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":159,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":159,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":159,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:10:53.180] [90mTRACE[39m (Function): [36m getMinimumValues([{"numBills":1,"denom":50},{"numBills":1,"denom":20}], {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR50"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR20"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":159,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":159,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":159,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:10:53.181] [90mTRACE[39m (Function): [36m sortByAvailables(50)[39m
[11:10:53.181] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:10:53.181] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR50"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:10:53.181] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:10:53.182] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR50"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:10:53.182] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR50"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:10:53.182] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:10:53.182] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:10:53.182] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:10:53.182] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.182] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:10:53.182] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.182] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:10:53.182] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.182] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:10:53.182] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.182] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:10:53.182] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.182] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:10:53.182] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.182] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:10:53.182] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m return from getSumCashOut: 0[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 500[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR50"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR50"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR50"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m return from getSumCashOut: 0[39m
[11:10:53.183] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 500[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m sortByAvailables(20)[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR20"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR20"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR20"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m return from getSumCashOut: 0[39m
[11:10:53.184] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 300[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR20"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR20"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR20"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m return from getSumCashOut: 0[39m
[11:10:53.185] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 300[39m
[11:10:53.186] [90mTRACE[39m (Function): [36m return from getMinimumValues: {"unit1":1,"unit2":1}[39m
[11:10:53.186] [90mTRACE[39m (Function): [36m return from buildDenominationFromDispenseDistributionCommand: {"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}}[39m
[11:10:53.186] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Dispense","type":"command","requestId":5},"payload":{"timeout":60000,"denomination":{"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}},"token":"NONCE=254611E63B2531576314E86527338D61A"}}, (ack) => this.logger.debug(`ack received SetStorage ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved SetStorage ${JSON.stringify(event)}`))[39m
[11:10:51.261] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:10:51.277] [34mDEBUG[39m (CashDispenser): [36mack received{"payload":{"status":"ok"},"header":{"name":"Common.Capabilities","requestId":1,"type":"acknowledge"}}[39m
[11:10:51.408] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:10:51.577] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:10:51.582] [34mDEBUG[39m (CashDispenser): [36mack received{"payload":{"status":"ok"},"header":{"name":"Common.Status","requestId":2,"type":"acknowledge"}}[39m
[11:10:51.639] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:10:51.746] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:10:51.826] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"Storage.GetStorage","requestId":3,"type":"acknowledge"}}[39m
[11:10:51.827] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:10:52.057] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR50"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:10:52.059] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR20"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:10:52.059] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit3]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:10:52.059] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit4]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}[39m
[11:10:52.060] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit5]: {"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":159,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":159,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":159,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}[39m
[11:10:52.062] [90mTRACE[39m (CashDispenser): [36mcurrent state {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR50"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR20"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":159,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":159,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":159,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}[39m
[11:10:52.255] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:10:52.539] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashDispenser.GetMixTypes","requestId":4,"type":"acknowledge"}}[39m
[11:10:52.541] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:10:52.661] [32mINFO[39m (CashDispenser): [36mHa terminado de inicializar[39m
[11:10:53.176] [34mDEBUG[39m (CashDispenser): [36mfor unit[unit1] initial box[EUR50]: is a StorageDispenserBox[39m
[11:10:53.177] [34mDEBUG[39m (CashDispenser): [36mfor unit[unit2] initial box[EUR20]: is a StorageDispenserBox[39m
[11:10:53.177] [34mDEBUG[39m (CashDispenser): [36mfor unit[unit3] initial box[EUR10]: is a StorageDispenserBox[39m
[11:10:53.237] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:10:53.251] [34mDEBUG[39m (CashDispenser): [36mack received SetStorage {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Dispense","requestId":5,"type":"acknowledge"}}[39m
[11:10:53.158] [34mDEBUG[39m (TEST): [36mStarted mdcsIotDevices[39m
[11:10:53.174] [34mDEBUG[39m (TEST): [36mLa conexion ha sido establecia, podemos empezar a mandar comandos al CASH[39m
[11:10:53.178] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"AvailableBills\",\"maxBillsDispensables\":60,\"bills\":[{\"denom\":10,\"numBills\":400},{\"denom\":20,\"numBills\":300},{\"denom\":50,\"numBills\":500}]}"[39m
[11:10:51.083] [34mDEBUG[39m (Xfs4iotConnectorService): [36mSe llama al connect![39m
[11:10:51.083] [34mDEBUG[39m (Xfs4iotConnectorService): [36mSe llama al create![39m
[11:10:51.150] [34mDEBUG[39m (Xfs4iotConnectorService): [36mXfs4iotConnectorService openned connection on: ws://10.13.13.10/xfs4iot/v1.0/CashDispenserXFS3/[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":499,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":299,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"PrepareDispenseDistribution"}
[CD] unitKey: "unit1". actual denomPresented.values 1
[CD] unitKey: "unit1" -> denom: 50
[CD] unitKey: "unit2". actual denomPresented.values 1
[CD] unitKey: "unit2" -> denom: 20
[11:10:58.369] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:10:58.369] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:10:58.431] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"Present"}[39m
[11:10:58.364] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:10:58.365] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:10:58.366] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:10:58.366] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:10:58.368] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:10:58.368] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:10:58.368] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:10:58.368] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:10:58.369] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":499,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":299,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:10:58.373] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:10:58.428] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}},"completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Dispense","requestId":5,"type":"completion"}}[39m
[11:10:58.434] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Present","type":"command","requestId":6},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:10:58.364] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:10:58.364] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:10:58.364] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:10:58.365] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:10:58.365] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:10:58.428] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:10:58.491] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:10:58.491] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Present","requestId":6,"type":"acknowledge"}}[39m
[11:10:58.379] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":499,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":299,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:10:58.429] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"PrepareDispenseDistribution\"}"[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":499,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":299,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
[FBST] result de Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
-----------------------Waiting for next iteration 1 -------------------------------
[11:11:03.812] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:11:03.812] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:11:03.747] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}})[39m
[11:11:03.747] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:11:03.811] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:11:03.812] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:11:03.812] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:11:03.812] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:11:03.812] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:11:03.812] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:11:03.812] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:11:03.812] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:11:03.812] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":499,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":299,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:11:03.813] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:11:03.872] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"position":"outDefault","additionalBunches":"0","completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Present","requestId":6,"type":"completion"}}[39m
[11:11:03.746] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:11:03.747] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:11:03.747] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}}[39m
[11:11:03.747] [34mDEBUG[39m (CashDispenser): [36mUnsolicited sin tratar[39m
[11:11:03.811] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:11:03.811] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:11:03.811] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:11:03.812] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:11:03.812] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:11:03.872] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:11:03.873] [34mDEBUG[39m (CashDispenser): [36mPresent result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:11:03.814] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":499,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":299,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:11:03.873] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"Present\",\"bills\":[{\"denom\":50,\"numBills\":1},{\"denom\":20,\"numBills\":1}]}"[39m
[11:11:03.874] [34mDEBUG[39m (TEST): [36mRecibido mensaje de éxito del Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[CD] en retract
[CD] en retractFunction
[11:11:18.877] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashManagement.Retract","type":"command","requestId":7},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:11:18.958] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:11:19.015] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashManagement.Retract","requestId":7,"type":"acknowledge"}}[39m
-----------------------Starting next iteration 1 -------------------------------
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[11:11:19.891] [90mTRACE[39m (Function): [36m buildDenominationFromDispenseDistributionCommand({"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}, {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":159,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":159,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":159,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:11:19.892] [90mTRACE[39m (Function): [36m getMinimumValues([{"numBills":1,"denom":50},{"numBills":1,"denom":20}], {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":159,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":159,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":159,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:11:19.892] [90mTRACE[39m (Function): [36m sortByAvailables(50)[39m
[11:11:19.892] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:11:19.892] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:11:19.892] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:11:19.892] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:11:19.892] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:11:19.892] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m return from getFitFrom: 1[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m return from getSumCashOut: 1[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 499[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:11:19.893] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:11:19.894] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:11:19.894] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:11:19.894] [90mTRACE[39m (Function): [36m return from getFitFrom: 1[39m
[11:11:19.894] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:11:19.894] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.894] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:11:19.894] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.894] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:11:19.894] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.894] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:11:19.894] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.894] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:11:19.894] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.894] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:11:19.894] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.894] [90mTRACE[39m (Function): [36m return from getSumCashOut: 1[39m
[11:11:19.894] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 499[39m
[11:11:19.894] [90mTRACE[39m (Function): [36m sortByAvailables(20)[39m
[11:11:19.894] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:11:19.894] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:11:19.894] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:11:19.895] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:11:19.895] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:11:19.895] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:11:19.895] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:11:19.895] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:11:19.895] [90mTRACE[39m (Function): [36m return from getFitFrom: 1[39m
[11:11:19.895] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:11:19.895] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.895] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:11:19.895] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.902] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m return from getSumCashOut: 1[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 299[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m return from getFitFrom: 1[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m return from getSumCashOut: 1[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 299[39m
[11:11:19.903] [90mTRACE[39m (Function): [36m return from getMinimumValues: {"unit1":1,"unit2":1}[39m
[11:11:19.904] [90mTRACE[39m (Function): [36m return from buildDenominationFromDispenseDistributionCommand: {"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}}[39m
[11:11:19.904] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Dispense","type":"command","requestId":8},"payload":{"timeout":60000,"denomination":{"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}},"token":"NONCE=254611E63B2531576314E86527338D61A"}}, (ack) => this.logger.debug(`ack received SetStorage ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved SetStorage ${JSON.stringify(event)}`))[39m
[11:11:20.031] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:11:20.031] [34mDEBUG[39m (CashDispenser): [36mack received SetStorage {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Dispense","requestId":8,"type":"acknowledge"}}[39m
[11:11:19.891] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":499,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":299,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
función de success
función de final
[11:11:40.851] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":160,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":160,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":160,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:11:40.852] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:11:40.852] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:11:40.852] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:11:40.852] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:11:40.852] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:11:40.852] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:11:40.852] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:11:40.853] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":499,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":299,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:11:40.853] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:11:40.975] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":7,"type":"completion"}}[39m
[11:11:40.851] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:11:40.851] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:11:40.851] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":160,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":160,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":160,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:11:40.852] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit5]: {"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":160,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":160,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":160,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}[39m
[11:11:40.916] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:11:40.916] [33mWARN[39m (CashDispenser): [36mwaitCompletionMessage::Cuidado, ha llegado complete tarde.Estamos tratando el complete con requestId: 8 y el lastCompleteRequestId es: 7[39m
[11:11:40.916] [33mWARN[39m (CashDispenser): [36mlastCompletionMsg: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":7,"type":"completion"}}[39m
[11:11:40.976] [34mDEBUG[39m (CashDispenser): [36mRetract result: {"device":"CASH_DISPENSER","status":"ok","type":"Retract"}[39m
[11:11:40.856] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":499,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":299,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:11:40.853] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:11:40.853] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":498,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":298,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"PrepareDispenseDistribution"}
[CD] unitKey: "unit1". actual denomPresented.values 1
[CD] unitKey: "unit1" -> denom: 50
[CD] unitKey: "unit2". actual denomPresented.values 1
[CD] unitKey: "unit2" -> denom: 20
[11:11:45.989] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:11:45.989] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:11:45.989] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:11:45.989] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:11:45.989] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:11:46.052] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:11:46.174] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:11:46.174] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Present","requestId":9,"type":"acknowledge"}}[39m
[11:11:45.989] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:11:45.989] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:11:45.989] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:11:45.989] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:11:45.990] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:11:45.990] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:11:45.990] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:11:45.990] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:11:45.990] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":498,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":298,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:11:45.990] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:11:46.052] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}},"completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Dispense","requestId":8,"type":"completion"}}[39m
[11:11:46.055] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Present","type":"command","requestId":9},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:11:45.992] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":498,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":298,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:11:46.052] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"PrepareDispenseDistribution\"}"[39m
[11:11:45.990] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:11:45.990] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:11:46.053] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"Present"}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":498,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":298,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
[FBST] result de Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
-----------------------Waiting for next iteration 2 -------------------------------
[11:11:51.553] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}})[39m
[11:11:51.554] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:11:51.615] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:11:51.616] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:11:51.616] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:11:51.616] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:11:51.616] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:11:51.616] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:11:51.617] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:11:51.617] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:11:51.617] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":498,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":298,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:11:51.617] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:11:51.708] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"position":"outDefault","additionalBunches":"0","completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Present","requestId":9,"type":"completion"}}[39m
[11:11:51.553] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:11:51.553] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:11:51.553] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}}[39m
[11:11:51.554] [34mDEBUG[39m (CashDispenser): [36mUnsolicited sin tratar[39m
[11:11:51.615] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:11:51.615] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:11:51.616] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:11:51.616] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:11:51.616] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:11:51.707] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:11:51.709] [34mDEBUG[39m (CashDispenser): [36mPresent result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:11:51.617] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:11:51.617] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:11:51.621] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":498,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":298,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:11:51.709] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"Present\",\"bills\":[{\"denom\":50,\"numBills\":1},{\"denom\":20,\"numBills\":1}]}"[39m
[11:11:51.711] [34mDEBUG[39m (TEST): [36mRecibido mensaje de éxito del Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[CD] en retract
[CD] en retractFunction
[11:12:06.717] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashManagement.Retract","type":"command","requestId":10},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:12:06.809] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:12:06.841] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashManagement.Retract","requestId":10,"type":"acknowledge"}}[39m
-----------------------Starting next iteration 2 -------------------------------
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[11:12:07.728] [90mTRACE[39m (Function): [36m buildDenominationFromDispenseDistributionCommand({"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}, {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":160,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":160,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":160,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:12:07.729] [90mTRACE[39m (Function): [36m getMinimumValues([{"numBills":1,"denom":50},{"numBills":1,"denom":20}], {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":160,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":160,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":160,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:12:07.729] [90mTRACE[39m (Function): [36m sortByAvailables(50)[39m
[11:12:07.729] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:12:07.729] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:12:07.729] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:12:07.729] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:12:07.729] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:12:07.729] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m return from getFitFrom: 2[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m return from getSumCashOut: 2[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 498[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m return from getFitFrom: 2[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:12:07.730] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.731] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:12:07.731] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.731] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:12:07.731] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.731] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:12:07.731] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.731] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:12:07.731] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.731] [90mTRACE[39m (Function): [36m return from getSumCashOut: 2[39m
[11:12:07.731] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 498[39m
[11:12:07.731] [90mTRACE[39m (Function): [36m sortByAvailables(20)[39m
[11:12:07.731] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:12:07.731] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:12:07.731] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:12:07.731] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:12:07.731] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:12:07.731] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m return from getFitFrom: 2[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m return from getSumCashOut: 2[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 298[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:12:07.737] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:12:07.738] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:12:07.738] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:12:07.738] [90mTRACE[39m (Function): [36m return from getFitFrom: 2[39m
[11:12:07.738] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:12:07.738] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.738] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:12:07.738] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.738] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:12:07.738] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.738] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:12:07.738] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.738] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:12:07.738] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.738] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:12:07.738] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:07.738] [90mTRACE[39m (Function): [36m return from getSumCashOut: 2[39m
[11:12:07.738] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 298[39m
[11:12:07.738] [90mTRACE[39m (Function): [36m return from getMinimumValues: {"unit1":1,"unit2":1}[39m
[11:12:07.738] [90mTRACE[39m (Function): [36m return from buildDenominationFromDispenseDistributionCommand: {"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}}[39m
[11:12:07.738] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Dispense","type":"command","requestId":11},"payload":{"timeout":60000,"denomination":{"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}},"token":"NONCE=254611E63B2531576314E86527338D61A"}}, (ack) => this.logger.debug(`ack received SetStorage ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved SetStorage ${JSON.stringify(event)}`))[39m
[11:12:07.803] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:12:07.865] [34mDEBUG[39m (CashDispenser): [36mack received SetStorage {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Dispense","requestId":11,"type":"acknowledge"}}[39m
[11:12:07.728] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":498,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":298,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
función de success
función de final
[11:12:28.670] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:12:28.670] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:12:28.669] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:12:28.669] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:12:28.669] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":161,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":161,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":161,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:12:28.669] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit5]: {"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":161,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":161,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":161,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}[39m
[11:12:28.764] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:12:28.765] [34mDEBUG[39m (CashDispenser): [36mRetract result: {"device":"CASH_DISPENSER","status":"ok","type":"Retract"}[39m
[11:12:28.669] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":161,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":161,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":161,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:12:28.669] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:12:28.669] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:12:28.669] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:12:28.670] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:12:28.670] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:12:28.670] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:12:28.670] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:12:28.670] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":498,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":298,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:12:28.670] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:12:28.764] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":10,"type":"completion"}}[39m
[11:12:28.674] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":498,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":298,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":497,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":297,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[11:12:33.798] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":497,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":297,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"PrepareDispenseDistribution"}
[CD] unitKey: "unit1". actual denomPresented.values 1
[CD] unitKey: "unit1" -> denom: 50
[CD] unitKey: "unit2". actual denomPresented.values 1
[CD] unitKey: "unit2" -> denom: 20
[11:12:33.920] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"PrepareDispenseDistribution\"}"[39m
[11:12:33.797] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:12:33.797] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:12:33.921] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"Present"}[39m
[11:12:33.796] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:12:33.796] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:12:33.796] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:12:33.796] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:12:33.797] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:12:33.797] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:12:33.797] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:12:33.797] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:12:33.797] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":497,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":297,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:12:33.797] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:12:33.920] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}},"completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Dispense","requestId":11,"type":"completion"}}[39m
[11:12:33.923] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Present","type":"command","requestId":12},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:12:33.796] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:12:33.796] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:12:33.796] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:12:33.796] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:12:33.796] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":2,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:12:33.858] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:12:34.063] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:12:34.063] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Present","requestId":12,"type":"acknowledge"}}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":497,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":297,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
[FBST] result de Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
-----------------------Waiting for next iteration 3 -------------------------------
[11:12:39.514] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}})[39m
[11:12:39.514] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:12:39.565] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:12:39.565] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:12:39.565] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:12:39.565] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:12:39.565] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:12:39.565] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:12:39.566] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:12:39.566] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:12:39.566] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":497,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":297,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:12:39.566] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:12:39.628] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"position":"outDefault","additionalBunches":"0","completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Present","requestId":12,"type":"completion"}}[39m
[11:12:39.514] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:12:39.514] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:12:39.514] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}}[39m
[11:12:39.514] [34mDEBUG[39m (CashDispenser): [36mUnsolicited sin tratar[39m
[11:12:39.565] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:12:39.565] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:12:39.565] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:12:39.565] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:12:39.565] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:12:39.628] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:12:39.629] [34mDEBUG[39m (CashDispenser): [36mPresent result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:12:39.568] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":497,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":297,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:12:39.629] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"Present\",\"bills\":[{\"denom\":50,\"numBills\":1},{\"denom\":20,\"numBills\":1}]}"[39m
[11:12:39.630] [34mDEBUG[39m (TEST): [36mRecibido mensaje de éxito del Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:12:39.566] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:12:39.566] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[CD] en retract
[CD] en retractFunction
[11:12:54.737] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:12:54.764] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashManagement.Retract","requestId":13,"type":"acknowledge"}}[39m
[11:12:54.641] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashManagement.Retract","type":"command","requestId":13},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
-----------------------Starting next iteration 3 -------------------------------
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[11:12:55.728] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:12:55.775] [34mDEBUG[39m (CashDispenser): [36mack received SetStorage {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Dispense","requestId":14,"type":"acknowledge"}}[39m
[11:12:55.635] [90mTRACE[39m (Function): [36m buildDenominationFromDispenseDistributionCommand({"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}, {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":161,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":161,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":161,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:12:55.635] [90mTRACE[39m (Function): [36m getMinimumValues([{"numBills":1,"denom":50},{"numBills":1,"denom":20}], {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":161,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":161,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":161,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:12:55.635] [90mTRACE[39m (Function): [36m sortByAvailables(50)[39m
[11:12:55.635] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:12:55.635] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:12:55.635] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:12:55.635] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:12:55.635] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:12:55.635] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m return from getFitFrom: 3[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m return from getSumCashOut: 3[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 497[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:12:55.636] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m return from getFitFrom: 3[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m return from getSumCashOut: 3[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 497[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m sortByAvailables(20)[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m return from getFitFrom: 3[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:12:55.637] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m return from getSumCashOut: 3[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 297[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m return from getFitFrom: 3[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m return from getSumCashOut: 3[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 297[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m return from getMinimumValues: {"unit1":1,"unit2":1}[39m
[11:12:55.638] [90mTRACE[39m (Function): [36m return from buildDenominationFromDispenseDistributionCommand: {"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}}[39m
[11:12:55.638] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Dispense","type":"command","requestId":14},"payload":{"timeout":60000,"denomination":{"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}},"token":"NONCE=254611E63B2531576314E86527338D61A"}}, (ack) => this.logger.debug(`ack received SetStorage ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved SetStorage ${JSON.stringify(event)}`))[39m
[11:12:55.634] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":497,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":297,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
función de success
función de final
[11:13:16.433] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":497,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":297,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:13:16.431] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:13:16.431] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:13:16.430] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":162,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":162,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":162,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:13:16.431] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:13:16.431] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:13:16.431] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:13:16.431] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:13:16.431] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:13:16.431] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:13:16.431] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:13:16.431] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":497,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":297,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:13:16.431] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:13:16.541] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":13,"type":"completion"}}[39m
[11:13:16.430] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:13:16.430] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:13:16.430] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":162,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":162,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":162,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:13:16.431] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit5]: {"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":162,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":162,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":162,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}[39m
[11:13:16.491] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:13:16.541] [33mWARN[39m (CashDispenser): [36mwaitCompletionMessage::Cuidado, ha llegado complete tarde.Estamos tratando el complete con requestId: 14 y el lastCompleteRequestId es: 13[39m
[11:13:16.541] [33mWARN[39m (CashDispenser): [36mlastCompletionMsg: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":13,"type":"completion"}}[39m
[11:13:16.542] [34mDEBUG[39m (CashDispenser): [36mRetract result: {"device":"CASH_DISPENSER","status":"ok","type":"Retract"}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":496,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":296,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"PrepareDispenseDistribution"}
[CD] unitKey: "unit1". actual denomPresented.values 1
[CD] unitKey: "unit1" -> denom: 50
[CD] unitKey: "unit2". actual denomPresented.values 1
[CD] unitKey: "unit2" -> denom: 20
[11:13:21.550] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":496,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":296,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:13:21.674] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"PrepareDispenseDistribution\"}"[39m
[11:13:21.549] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:13:21.549] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:13:21.676] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"Present"}[39m
[11:13:21.548] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:13:21.548] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:13:21.548] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:13:21.549] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:13:21.549] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:13:21.612] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:13:21.814] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:13:21.814] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Present","requestId":15,"type":"acknowledge"}}[39m
[11:13:21.548] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:13:21.549] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:13:21.549] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:13:21.549] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:13:21.549] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":3,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:13:21.549] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:13:21.549] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:13:21.549] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:13:21.549] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":496,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":296,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:13:21.549] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:13:21.673] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}},"completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Dispense","requestId":14,"type":"completion"}}[39m
[11:13:21.678] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Present","type":"command","requestId":15},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":496,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":296,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
[FBST] result de Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
-----------------------Waiting for next iteration 4 -------------------------------
[11:13:26.744] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":496,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":296,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:13:27.060] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"Present\",\"bills\":[{\"denom\":50,\"numBills\":1},{\"denom\":20,\"numBills\":1}]}"[39m
[11:13:27.062] [34mDEBUG[39m (TEST): [36mRecibido mensaje de éxito del Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:13:26.742] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:13:26.742] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:13:26.677] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}})[39m
[11:13:26.677] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:13:26.740] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:13:26.740] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:13:26.740] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:13:26.742] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:13:26.742] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:13:26.742] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:13:26.742] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:13:26.742] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:13:26.742] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":496,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":296,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:13:26.742] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:13:27.053] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"position":"outDefault","additionalBunches":"0","completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Present","requestId":15,"type":"completion"}}[39m
[11:13:26.677] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:13:26.677] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:13:26.677] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}}[39m
[11:13:26.677] [34mDEBUG[39m (CashDispenser): [36mUnsolicited sin tratar[39m
[11:13:26.739] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:13:26.739] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:13:26.740] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:13:26.740] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:13:26.740] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:13:27.053] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:13:27.053] [34mDEBUG[39m (CashDispenser): [36mPresent result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[CD] en retract
[CD] en retractFunction
[11:13:42.068] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashManagement.Retract","type":"command","requestId":16},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:13:42.147] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:13:42.210] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashManagement.Retract","requestId":16,"type":"acknowledge"}}[39m
-----------------------Starting next iteration 4 -------------------------------
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[11:13:43.076] [90mTRACE[39m (Function): [36m buildDenominationFromDispenseDistributionCommand({"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}, {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":162,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":162,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":162,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:13:43.077] [90mTRACE[39m (Function): [36m getMinimumValues([{"numBills":1,"denom":50},{"numBills":1,"denom":20}], {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":162,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":162,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":162,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:13:43.077] [90mTRACE[39m (Function): [36m sortByAvailables(50)[39m
[11:13:43.077] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:13:43.077] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:13:43.077] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:13:43.077] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:13:43.077] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:13:43.077] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:13:43.077] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:13:43.077] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:13:43.077] [90mTRACE[39m (Function): [36m return from getFitFrom: 4[39m
[11:13:43.077] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:13:43.077] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.077] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:13:43.077] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m return from getSumCashOut: 4[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 496[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m return from getFitFrom: 4[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m return from getSumCashOut: 4[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 496[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m sortByAvailables(20)[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:13:43.078] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m return from getFitFrom: 4[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m return from getSumCashOut: 4[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 296[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:13:43.079] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:13:43.080] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:13:43.080] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:13:43.080] [90mTRACE[39m (Function): [36m return from getFitFrom: 4[39m
[11:13:43.080] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:13:43.080] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.080] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:13:43.080] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.080] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:13:43.080] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.080] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:13:43.080] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.080] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:13:43.080] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.080] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:13:43.080] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:13:43.080] [90mTRACE[39m (Function): [36m return from getSumCashOut: 4[39m
[11:13:43.080] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 296[39m
[11:13:43.080] [90mTRACE[39m (Function): [36m return from getMinimumValues: {"unit1":1,"unit2":1}[39m
[11:13:43.080] [90mTRACE[39m (Function): [36m return from buildDenominationFromDispenseDistributionCommand: {"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}}[39m
[11:13:43.080] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Dispense","type":"command","requestId":17},"payload":{"timeout":60000,"denomination":{"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}},"token":"NONCE=254611E63B2531576314E86527338D61A"}}, (ack) => this.logger.debug(`ack received SetStorage ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved SetStorage ${JSON.stringify(event)}`))[39m
[11:13:43.154] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:13:43.154] [34mDEBUG[39m (CashDispenser): [36mack received SetStorage {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Dispense","requestId":17,"type":"acknowledge"}}[39m
[11:13:43.076] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":496,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":296,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
función de success
función de final
[11:14:03.912] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":496,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":296,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:14:03.903] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:14:03.903] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:14:03.902] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:14:03.902] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:14:03.902] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":163,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":163,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":163,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:14:03.903] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit5]: {"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":163,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":163,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":163,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}[39m
[11:14:03.964] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:14:03.964] [33mWARN[39m (CashDispenser): [36mwaitCompletionMessage::Cuidado, ha llegado complete tarde.Estamos tratando el complete con requestId: 17 y el lastCompleteRequestId es: 16[39m
[11:14:03.964] [33mWARN[39m (CashDispenser): [36mlastCompletionMsg: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":16,"type":"completion"}}[39m
[11:14:04.028] [34mDEBUG[39m (CashDispenser): [36mRetract result: {"device":"CASH_DISPENSER","status":"ok","type":"Retract"}[39m
[11:14:03.902] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":163,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":163,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":163,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:14:03.903] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:14:03.903] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:14:03.903] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:14:03.903] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:14:03.903] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:14:03.903] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:14:03.903] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:14:03.903] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":496,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":296,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:14:03.904] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:14:04.027] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":16,"type":"completion"}}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":495,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":295,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"PrepareDispenseDistribution"}
[CD] unitKey: "unit1". actual denomPresented.values 1
[CD] unitKey: "unit1" -> denom: 50
[CD] unitKey: "unit2". actual denomPresented.values 1
[CD] unitKey: "unit2" -> denom: 20
[11:14:09.005] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":495,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":295,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:14:09.065] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"PrepareDispenseDistribution\"}"[39m
[11:14:09.003] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:14:09.003] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:14:09.066] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"Present"}[39m
[11:14:09.002] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:14:09.003] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:14:09.003] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:14:09.003] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:14:09.003] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:14:09.003] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:14:09.003] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:14:09.003] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:14:09.003] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":495,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":295,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:14:09.003] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:14:09.065] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}},"completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Dispense","requestId":17,"type":"completion"}}[39m
[11:14:09.067] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Present","type":"command","requestId":18},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:14:09.002] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:14:09.002] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:14:09.002] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:14:09.003] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:14:09.003] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":4,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:14:09.065] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:14:09.128] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:14:09.128] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Present","requestId":18,"type":"acknowledge"}}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":495,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":295,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
[FBST] result de Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
-----------------------Waiting for next iteration 5 -------------------------------
[11:14:14.457] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:14:14.457] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:14:14.395] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:14:14.395] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:14:14.395] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}}[39m
[11:14:14.395] [34mDEBUG[39m (CashDispenser): [36mUnsolicited sin tratar[39m
[11:14:14.456] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:14:14.456] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:14:14.456] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:14:14.456] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:14:14.456] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:14:14.517] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:14:14.518] [34mDEBUG[39m (CashDispenser): [36mPresent result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:14:14.395] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}})[39m
[11:14:14.395] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:14:14.456] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:14:14.456] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:14:14.456] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:14:14.456] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:14:14.456] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:14:14.456] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:14:14.457] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:14:14.457] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:14:14.457] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":495,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":295,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:14:14.457] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:14:14.517] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"position":"outDefault","additionalBunches":"0","completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Present","requestId":18,"type":"completion"}}[39m
[11:14:14.460] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":495,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":295,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:14:14.518] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"Present\",\"bills\":[{\"denom\":50,\"numBills\":1},{\"denom\":20,\"numBills\":1}]}"[39m
[11:14:14.519] [34mDEBUG[39m (TEST): [36mRecibido mensaje de éxito del Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[CD] en retract
[CD] en retractFunction
[11:14:29.618] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:14:29.675] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashManagement.Retract","requestId":19,"type":"acknowledge"}}[39m
[11:14:29.533] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashManagement.Retract","type":"command","requestId":19},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
-----------------------Starting next iteration 5 -------------------------------
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[11:14:30.525] [90mTRACE[39m (Function): [36m buildDenominationFromDispenseDistributionCommand({"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}, {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":163,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":163,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":163,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:14:30.525] [90mTRACE[39m (Function): [36m getMinimumValues([{"numBills":1,"denom":50},{"numBills":1,"denom":20}], {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":163,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":163,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":163,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:14:30.525] [90mTRACE[39m (Function): [36m sortByAvailables(50)[39m
[11:14:30.525] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:14:30.525] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:14:30.525] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m return from getFitFrom: 5[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m return from getSumCashOut: 5[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 495[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:14:30.526] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from getFitFrom: 5[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from getSumCashOut: 5[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 495[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m sortByAvailables(20)[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from getFitFrom: 5[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from getSumCashOut: 5[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 295[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:14:30.527] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m return from getFitFrom: 5[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m return from getSumCashOut: 5[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 295[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m return from getMinimumValues: {"unit1":1,"unit2":1}[39m
[11:14:30.528] [90mTRACE[39m (Function): [36m return from buildDenominationFromDispenseDistributionCommand: {"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}}[39m
[11:14:30.528] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Dispense","type":"command","requestId":20},"payload":{"timeout":60000,"denomination":{"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}},"token":"NONCE=254611E63B2531576314E86527338D61A"}}, (ack) => this.logger.debug(`ack received SetStorage ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved SetStorage ${JSON.stringify(event)}`))[39m
[11:14:30.600] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:14:30.647] [34mDEBUG[39m (CashDispenser): [36mack received SetStorage {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Dispense","requestId":20,"type":"acknowledge"}}[39m
[11:14:30.525] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":495,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":295,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
función de success
función de final
[11:14:51.561] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":495,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":295,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:14:51.546] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":164,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":164,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":164,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:14:51.547] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:14:51.547] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:14:51.547] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:14:51.547] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:14:51.547] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:14:51.547] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:14:51.547] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:14:51.547] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":495,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":295,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:14:51.547] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:14:51.686] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":19,"type":"completion"}}[39m
[11:14:51.546] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:14:51.546] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:14:51.547] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":164,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":164,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":164,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:14:51.547] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit5]: {"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":164,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":164,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":164,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}[39m
[11:14:51.626] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:14:51.686] [33mWARN[39m (CashDispenser): [36mwaitCompletionMessage::Cuidado, ha llegado complete tarde.Estamos tratando el complete con requestId: 20 y el lastCompleteRequestId es: 19[39m
[11:14:51.686] [33mWARN[39m (CashDispenser): [36mlastCompletionMsg: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":19,"type":"completion"}}[39m
[11:14:51.686] [34mDEBUG[39m (CashDispenser): [36mRetract result: {"device":"CASH_DISPENSER","status":"ok","type":"Retract"}[39m
[11:14:51.547] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:14:51.547] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":494,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":294,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"PrepareDispenseDistribution"}
[CD] unitKey: "unit1". actual denomPresented.values 1
[CD] unitKey: "unit1" -> denom: 50
[CD] unitKey: "unit2". actual denomPresented.values 1
[CD] unitKey: "unit2" -> denom: 20
[11:14:56.581] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":494,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":294,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:14:56.724] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"PrepareDispenseDistribution\"}"[39m
[11:14:56.578] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:14:56.579] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:14:56.579] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:14:56.579] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:14:56.579] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:14:56.579] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:14:56.579] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:14:56.579] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:14:56.579] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":494,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":294,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:14:56.580] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:14:56.723] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}},"completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Dispense","requestId":20,"type":"completion"}}[39m
[11:14:56.730] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Present","type":"command","requestId":21},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:14:56.578] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:14:56.578] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:14:56.579] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:14:56.579] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:14:56.579] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":5,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:14:56.662] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:14:56.844] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:14:56.844] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Present","requestId":21,"type":"acknowledge"}}[39m
[11:14:56.579] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:14:56.579] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:14:56.727] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"Present"}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":494,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":294,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
[FBST] result de Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
-----------------------Waiting for next iteration 6 -------------------------------
[11:15:02.455] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}})[39m
[11:15:02.455] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:15:02.515] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:15:02.516] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:15:02.516] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:15:02.516] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:15:02.516] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:15:02.516] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:15:02.516] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:15:02.516] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:15:02.516] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":494,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":294,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:15:02.516] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:15:02.580] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"position":"outDefault","additionalBunches":"0","completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Present","requestId":21,"type":"completion"}}[39m
[11:15:02.517] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":494,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":294,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:15:02.580] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"Present\",\"bills\":[{\"denom\":50,\"numBills\":1},{\"denom\":20,\"numBills\":1}]}"[39m
[11:15:02.581] [34mDEBUG[39m (TEST): [36mRecibido mensaje de éxito del Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:15:02.455] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:15:02.455] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:15:02.455] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}}[39m
[11:15:02.455] [34mDEBUG[39m (CashDispenser): [36mUnsolicited sin tratar[39m
[11:15:02.515] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:15:02.515] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:15:02.516] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:15:02.516] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:15:02.516] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:15:02.580] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:15:02.580] [34mDEBUG[39m (CashDispenser): [36mPresent result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:15:02.516] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:15:02.516] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[CD] en retract
[CD] en retractFunction
[11:15:17.584] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashManagement.Retract","type":"command","requestId":22},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:15:17.661] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:15:17.707] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashManagement.Retract","requestId":22,"type":"acknowledge"}}[39m
-----------------------Starting next iteration 6 -------------------------------
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[11:15:18.664] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:15:18.736] [34mDEBUG[39m (CashDispenser): [36mack received SetStorage {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Dispense","requestId":23,"type":"acknowledge"}}[39m
[11:15:18.586] [90mTRACE[39m (Function): [36m buildDenominationFromDispenseDistributionCommand({"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}, {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":164,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":164,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":164,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:15:18.586] [90mTRACE[39m (Function): [36m getMinimumValues([{"numBills":1,"denom":50},{"numBills":1,"denom":20}], {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":164,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":164,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":164,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:15:18.586] [90mTRACE[39m (Function): [36m sortByAvailables(50)[39m
[11:15:18.586] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:15:18.586] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:15:18.586] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m return from getFitFrom: 6[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m return from getSumCashOut: 6[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 494[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:15:18.587] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m return from getFitFrom: 6[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m return from getSumCashOut: 6[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 494[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m sortByAvailables(20)[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:15:18.588] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m return from getFitFrom: 6[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m return from getSumCashOut: 6[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 294[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:15:18.589] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:15:18.590] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:15:18.590] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:15:18.590] [90mTRACE[39m (Function): [36m return from getFitFrom: 6[39m
[11:15:18.590] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:15:18.590] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.590] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:15:18.590] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.590] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:15:18.590] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.590] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:15:18.590] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.590] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:15:18.590] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.590] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:15:18.590] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:15:18.590] [90mTRACE[39m (Function): [36m return from getSumCashOut: 6[39m
[11:15:18.590] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 294[39m
[11:15:18.590] [90mTRACE[39m (Function): [36m return from getMinimumValues: {"unit1":1,"unit2":1}[39m
[11:15:18.590] [90mTRACE[39m (Function): [36m return from buildDenominationFromDispenseDistributionCommand: {"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}}[39m
[11:15:18.590] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Dispense","type":"command","requestId":23},"payload":{"timeout":60000,"denomination":{"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}},"token":"NONCE=254611E63B2531576314E86527338D61A"}}, (ack) => this.logger.debug(`ack received SetStorage ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved SetStorage ${JSON.stringify(event)}`))[39m
[11:15:18.586] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":494,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":294,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
función de success
función de final
[11:15:39.500] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:15:39.500] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:15:39.500] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":165,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":165,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":165,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:15:39.501] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit5]: {"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":165,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":165,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":165,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}[39m
[11:15:39.562] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:15:39.563] [34mDEBUG[39m (CashDispenser): [36mRetract result: {"device":"CASH_DISPENSER","status":"ok","type":"Retract"}[39m
[11:15:39.502] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":494,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":294,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:15:39.500] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":165,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":165,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":165,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:15:39.501] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:15:39.501] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:15:39.501] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:15:39.501] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:15:39.501] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:15:39.501] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:15:39.501] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:15:39.501] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":494,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":294,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:15:39.501] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:15:39.562] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":22,"type":"completion"}}[39m
[11:15:39.501] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:15:39.501] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":493,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":293,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[11:15:44.658] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:15:44.658] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"PrepareDispenseDistribution"}
[CD] unitKey: "unit1". actual denomPresented.values 1
[CD] unitKey: "unit1" -> denom: 50
[CD] unitKey: "unit2". actual denomPresented.values 1
[CD] unitKey: "unit2" -> denom: 20
[11:15:44.793] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"Present"}[39m
[11:15:44.657] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:15:44.657] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:15:44.657] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:15:44.657] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:15:44.657] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:15:44.726] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:15:44.846] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:15:44.846] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Present","requestId":24,"type":"acknowledge"}}[39m
[11:15:44.659] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":493,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":293,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:15:44.792] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"PrepareDispenseDistribution\"}"[39m
[11:15:44.657] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:15:44.657] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:15:44.657] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:15:44.657] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:15:44.657] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":6,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:15:44.657] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:15:44.658] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:15:44.658] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:15:44.658] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":493,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":293,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:15:44.658] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:15:44.791] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}},"completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Dispense","requestId":23,"type":"completion"}}[39m
[11:15:44.795] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Present","type":"command","requestId":24},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":493,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":293,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
[FBST] result de Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
-----------------------Waiting for next iteration 7 -------------------------------
[11:15:50.174] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:15:50.174] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:15:50.174] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}}[39m
[11:15:50.174] [34mDEBUG[39m (CashDispenser): [36mUnsolicited sin tratar[39m
[11:15:50.238] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:15:50.238] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:15:50.239] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:15:50.239] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:15:50.239] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:15:50.304] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:15:50.304] [34mDEBUG[39m (CashDispenser): [36mPresent result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:15:50.241] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":493,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":293,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:15:50.304] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"Present\",\"bills\":[{\"denom\":50,\"numBills\":1},{\"denom\":20,\"numBills\":1}]}"[39m
[11:15:50.305] [34mDEBUG[39m (TEST): [36mRecibido mensaje de éxito del Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:15:50.174] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}})[39m
[11:15:50.174] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:15:50.239] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:15:50.239] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:15:50.239] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:15:50.239] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:15:50.239] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:15:50.239] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:15:50.239] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:15:50.239] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:15:50.239] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":493,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":293,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:15:50.240] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:15:50.304] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"position":"outDefault","additionalBunches":"0","completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Present","requestId":24,"type":"completion"}}[39m
[11:15:50.239] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:15:50.239] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[CD] en retract
[CD] en retractFunction
[11:16:05.447] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:16:05.506] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashManagement.Retract","requestId":25,"type":"acknowledge"}}[39m
[11:16:05.306] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashManagement.Retract","type":"command","requestId":25},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
-----------------------Starting next iteration 7 -------------------------------
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[11:16:06.310] [90mTRACE[39m (Function): [36m buildDenominationFromDispenseDistributionCommand({"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}, {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":165,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":165,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":165,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:16:06.310] [90mTRACE[39m (Function): [36m getMinimumValues([{"numBills":1,"denom":50},{"numBills":1,"denom":20}], {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":165,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":165,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":165,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:16:06.310] [90mTRACE[39m (Function): [36m sortByAvailables(50)[39m
[11:16:06.310] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:16:06.310] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:16:06.310] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:16:06.310] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:16:06.310] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:16:06.310] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m return from getFitFrom: 7[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m return from getSumCashOut: 7[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 493[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m return from getFitFrom: 7[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:16:06.311] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m return from getSumCashOut: 7[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 493[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m sortByAvailables(20)[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m return from getFitFrom: 7[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m return from getSumCashOut: 7[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 293[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:16:06.312] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:16:06.313] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:16:06.313] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:16:06.313] [90mTRACE[39m (Function): [36m return from getFitFrom: 7[39m
[11:16:06.313] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:16:06.313] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.313] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:16:06.313] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.313] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:16:06.313] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.313] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:16:06.313] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.313] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:16:06.313] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.313] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:16:06.313] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:06.313] [90mTRACE[39m (Function): [36m return from getSumCashOut: 7[39m
[11:16:06.313] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 293[39m
[11:16:06.313] [90mTRACE[39m (Function): [36m return from getMinimumValues: {"unit1":1,"unit2":1}[39m
[11:16:06.313] [90mTRACE[39m (Function): [36m return from buildDenominationFromDispenseDistributionCommand: {"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}}[39m
[11:16:06.313] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Dispense","type":"command","requestId":26},"payload":{"timeout":60000,"denomination":{"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}},"token":"NONCE=254611E63B2531576314E86527338D61A"}}, (ack) => this.logger.debug(`ack received SetStorage ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved SetStorage ${JSON.stringify(event)}`))[39m
[11:16:06.372] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:16:06.437] [34mDEBUG[39m (CashDispenser): [36mack received SetStorage {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Dispense","requestId":26,"type":"acknowledge"}}[39m
[11:16:06.310] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":493,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":293,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
función de success
función de final
[11:16:27.086] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:16:27.086] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:16:27.082] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":166,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":166,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":166,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:16:27.083] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:16:27.086] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:16:27.086] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:16:27.086] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:16:27.086] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:16:27.086] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:16:27.086] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:16:27.086] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":493,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":293,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:16:27.087] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:16:27.208] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":25,"type":"completion"}}[39m
[11:16:27.082] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:16:27.082] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:16:27.083] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":166,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":166,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":166,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:16:27.083] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit5]: {"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":166,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":166,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":166,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}[39m
[11:16:27.150] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:16:27.207] [33mWARN[39m (CashDispenser): [36mwaitCompletionMessage::Cuidado, ha llegado complete tarde.Estamos tratando el complete con requestId: 26 y el lastCompleteRequestId es: 25[39m
[11:16:27.207] [33mWARN[39m (CashDispenser): [36mlastCompletionMsg: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":25,"type":"completion"}}[39m
[11:16:27.209] [34mDEBUG[39m (CashDispenser): [36mRetract result: {"device":"CASH_DISPENSER","status":"ok","type":"Retract"}[39m
[11:16:27.088] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":493,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":293,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":492,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":292,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[11:16:32.174] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":492,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":292,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"PrepareDispenseDistribution"}
[CD] unitKey: "unit1". actual denomPresented.values 1
[CD] unitKey: "unit1" -> denom: 50
[CD] unitKey: "unit2". actual denomPresented.values 1
[CD] unitKey: "unit2" -> denom: 20
[11:16:32.326] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"PrepareDispenseDistribution\"}"[39m
[11:16:32.173] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:16:32.173] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:16:32.327] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"Present"}[39m
[11:16:32.173] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:16:32.173] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:16:32.173] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:16:32.173] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:16:32.173] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:16:32.173] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:16:32.173] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:16:32.173] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:16:32.173] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":492,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":292,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:16:32.173] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:16:32.326] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}},"completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Dispense","requestId":26,"type":"completion"}}[39m
[11:16:32.328] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Present","type":"command","requestId":27},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:16:32.173] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:16:32.173] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:16:32.173] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:16:32.173] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:16:32.173] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":7,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:16:32.233] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:16:32.436] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:16:32.436] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Present","requestId":27,"type":"acknowledge"}}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":492,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":292,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
[FBST] result de Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
-----------------------Waiting for next iteration 8 -------------------------------
[11:16:38.319] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":492,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":292,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:16:38.380] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"Present\",\"bills\":[{\"denom\":50,\"numBills\":1},{\"denom\":20,\"numBills\":1}]}"[39m
[11:16:38.381] [34mDEBUG[39m (TEST): [36mRecibido mensaje de éxito del Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:16:38.318] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:16:38.318] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:16:38.255] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}})[39m
[11:16:38.255] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:16:38.317] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:16:38.317] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:16:38.317] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:16:38.317] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:16:38.318] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:16:38.318] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:16:38.318] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:16:38.318] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:16:38.318] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":492,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":292,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:16:38.318] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:16:38.380] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"position":"outDefault","additionalBunches":"0","completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Present","requestId":27,"type":"completion"}}[39m
[11:16:38.254] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:16:38.254] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:16:38.255] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}}[39m
[11:16:38.255] [34mDEBUG[39m (CashDispenser): [36mUnsolicited sin tratar[39m
[11:16:38.317] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:16:38.317] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:16:38.317] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:16:38.317] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:16:38.317] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:16:38.379] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:16:38.380] [34mDEBUG[39m (CashDispenser): [36mPresent result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[CD] en retract
[CD] en retractFunction
[11:16:53.395] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashManagement.Retract","type":"command","requestId":28},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:16:53.472] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:16:53.537] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashManagement.Retract","requestId":28,"type":"acknowledge"}}[39m
-----------------------Starting next iteration 8 -------------------------------
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[11:16:54.395] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}[39m
[11:16:54.395] [90mTRACE[39m (Function): [36m buildDenominationFromDispenseDistributionCommand({"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}, {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":166,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":166,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":166,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:16:54.396] [90mTRACE[39m (Function): [36m getMinimumValues([{"numBills":1,"denom":50},{"numBills":1,"denom":20}], {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":166,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":166,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":166,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:16:54.396] [90mTRACE[39m (Function): [36m sortByAvailables(50)[39m
[11:16:54.396] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:16:54.396] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:16:54.396] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:16:54.396] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:16:54.396] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:16:54.396] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:16:54.397] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:16:54.397] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:16:54.397] [90mTRACE[39m (Function): [36m return from getFitFrom: 8[39m
[11:16:54.397] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:16:54.397] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.397] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:16:54.397] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.397] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:16:54.397] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.397] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:16:54.397] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.397] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:16:54.397] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.397] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:16:54.397] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.397] [90mTRACE[39m (Function): [36m return from getSumCashOut: 8[39m
[11:16:54.397] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 492[39m
[11:16:54.397] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:16:54.397] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:16:54.397] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:16:54.398] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:16:54.398] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:16:54.399] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:16:54.399] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:16:54.399] [90mTRACE[39m (Function): [36m return from getFitFrom: 8[39m
[11:16:54.399] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:16:54.399] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.399] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:16:54.399] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.399] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:16:54.399] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.399] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:16:54.399] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.399] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:16:54.399] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.399] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:16:54.399] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.399] [90mTRACE[39m (Function): [36m return from getSumCashOut: 8[39m
[11:16:54.399] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 492[39m
[11:16:54.400] [90mTRACE[39m (Function): [36m sortByAvailables(20)[39m
[11:16:54.400] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:16:54.400] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:16:54.400] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:16:54.400] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:16:54.400] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:16:54.400] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m return from getFitFrom: 8[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m return from getSumCashOut: 8[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 292[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:16:54.401] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:16:54.402] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:16:54.402] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:16:54.402] [90mTRACE[39m (Function): [36m return from getFitFrom: 8[39m
[11:16:54.402] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:16:54.402] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.402] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:16:54.402] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.402] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:16:54.402] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.402] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:16:54.402] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.402] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:16:54.402] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.402] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:16:54.402] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:16:54.402] [90mTRACE[39m (Function): [36m return from getSumCashOut: 8[39m
[11:16:54.402] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 292[39m
[11:16:54.402] [90mTRACE[39m (Function): [36m return from getMinimumValues: {"unit1":1,"unit2":1}[39m
[11:16:54.402] [90mTRACE[39m (Function): [36m return from buildDenominationFromDispenseDistributionCommand: {"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}}[39m
[11:16:54.402] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Dispense","type":"command","requestId":29},"payload":{"timeout":60000,"denomination":{"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}},"token":"NONCE=254611E63B2531576314E86527338D61A"}}, (ack) => this.logger.debug(`ack received SetStorage ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved SetStorage ${JSON.stringify(event)}`))[39m
[11:16:54.502] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:16:54.534] [34mDEBUG[39m (CashDispenser): [36mack received SetStorage {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Dispense","requestId":29,"type":"acknowledge"}}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":492,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":292,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
función de success
función de final
[11:17:15.172] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:17:15.173] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:17:15.172] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":167,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":167,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":167,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:17:15.172] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:17:15.172] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:17:15.172] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:17:15.172] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:17:15.172] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:17:15.172] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:17:15.172] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:17:15.172] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":492,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":292,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:17:15.173] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:17:15.296] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":28,"type":"completion"}}[39m
[11:17:15.174] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":492,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":292,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:17:15.172] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:17:15.172] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:17:15.172] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":167,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":167,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":167,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:17:15.172] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit5]: {"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":167,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":167,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":167,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}[39m
[11:17:15.234] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:17:15.234] [33mWARN[39m (CashDispenser): [36mwaitCompletionMessage::Cuidado, ha llegado complete tarde.Estamos tratando el complete con requestId: 29 y el lastCompleteRequestId es: 28[39m
[11:17:15.234] [33mWARN[39m (CashDispenser): [36mlastCompletionMsg: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":28,"type":"completion"}}[39m
[11:17:15.296] [34mDEBUG[39m (CashDispenser): [36mRetract result: {"device":"CASH_DISPENSER","status":"ok","type":"Retract"}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":491,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":291,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"PrepareDispenseDistribution"}
[CD] unitKey: "unit1". actual denomPresented.values 1
[CD] unitKey: "unit1" -> denom: 50
[CD] unitKey: "unit2". actual denomPresented.values 1
[CD] unitKey: "unit2" -> denom: 20
[11:17:20.271] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:17:20.271] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:17:20.339] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"Present"}[39m
[11:17:20.270] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:17:20.271] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:17:20.271] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:17:20.271] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:17:20.271] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:17:20.271] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:17:20.271] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:17:20.271] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:17:20.271] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":491,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":291,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:17:20.271] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:17:20.337] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}},"completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Dispense","requestId":29,"type":"completion"}}[39m
[11:17:20.340] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Present","type":"command","requestId":30},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:17:20.273] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":491,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":291,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:17:20.338] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"PrepareDispenseDistribution\"}"[39m
[11:17:20.270] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:17:20.270] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:17:20.270] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:17:20.270] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:17:20.271] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":8,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:17:20.337] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:17:20.396] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:17:20.396] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Present","requestId":30,"type":"acknowledge"}}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":491,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":291,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
[FBST] result de Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
-----------------------Waiting for next iteration 9 -------------------------------
[11:17:25.224] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}})[39m
[11:17:25.224] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:17:25.287] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:17:25.288] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:17:25.288] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:17:25.288] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:17:25.288] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:17:25.288] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:17:25.288] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:17:25.288] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:17:25.288] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":491,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":291,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:17:25.288] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:17:25.350] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"position":"outDefault","additionalBunches":"0","completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Present","requestId":30,"type":"completion"}}[39m
[11:17:25.223] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:17:25.224] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:17:25.224] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}}[39m
[11:17:25.224] [34mDEBUG[39m (CashDispenser): [36mUnsolicited sin tratar[39m
[11:17:25.287] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:17:25.287] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:17:25.287] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:17:25.288] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:17:25.288] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:17:25.350] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:17:25.350] [34mDEBUG[39m (CashDispenser): [36mPresent result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:17:25.289] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":491,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":291,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:17:25.350] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"Present\",\"bills\":[{\"denom\":50,\"numBills\":1},{\"denom\":20,\"numBills\":1}]}"[39m
[11:17:25.351] [34mDEBUG[39m (TEST): [36mRecibido mensaje de éxito del Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:17:25.288] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:17:25.288] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[CD] en retract
[CD] en retractFunction
[11:17:40.359] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashManagement.Retract","type":"command","requestId":31},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:17:40.450] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:17:40.496] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashManagement.Retract","requestId":31,"type":"acknowledge"}}[39m
-----------------------Starting next iteration 9 -------------------------------
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[11:17:41.364] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}[39m
[11:17:41.365] [90mTRACE[39m (Function): [36m buildDenominationFromDispenseDistributionCommand({"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}, {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":167,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":167,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":167,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:17:41.365] [90mTRACE[39m (Function): [36m getMinimumValues([{"numBills":1,"denom":50},{"numBills":1,"denom":20}], {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":167,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":167,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":167,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:17:41.365] [90mTRACE[39m (Function): [36m sortByAvailables(50)[39m
[11:17:41.365] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:17:41.366] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:17:41.366] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:17:41.366] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:17:41.366] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:17:41.366] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m return from getFitFrom: 9[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m return from getSumCashOut: 9[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 491[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:17:41.367] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m return from getFitFrom: 9[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m return from getSumCashOut: 9[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 491[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m sortByAvailables(20)[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:17:41.368] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m return from getFitFrom: 9[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m return from getSumCashOut: 9[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 291[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:17:41.369] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:17:41.370] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:17:41.370] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:17:41.370] [90mTRACE[39m (Function): [36m return from getFitFrom: 9[39m
[11:17:41.370] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:17:41.370] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.370] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:17:41.370] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.370] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:17:41.370] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.384] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:17:41.384] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.384] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:17:41.384] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.384] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:17:41.384] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:17:41.384] [90mTRACE[39m (Function): [36m return from getSumCashOut: 9[39m
[11:17:41.384] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 291[39m
[11:17:41.384] [90mTRACE[39m (Function): [36m return from getMinimumValues: {"unit1":1,"unit2":1}[39m
[11:17:41.384] [90mTRACE[39m (Function): [36m return from buildDenominationFromDispenseDistributionCommand: {"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}}[39m
[11:17:41.384] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Dispense","type":"command","requestId":32},"payload":{"timeout":60000,"denomination":{"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}},"token":"NONCE=254611E63B2531576314E86527338D61A"}}, (ack) => this.logger.debug(`ack received SetStorage ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved SetStorage ${JSON.stringify(event)}`))[39m
[11:17:41.508] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:17:41.567] [34mDEBUG[39m (CashDispenser): [36mack received SetStorage {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Dispense","requestId":32,"type":"acknowledge"}}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":491,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":291,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[11:18:02.166] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":168,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":168,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":168,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:18:02.166] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:18:02.166] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:18:02.166] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:18:02.166] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:18:02.166] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:18:02.166] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:18:02.166] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:18:02.167] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":491,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":291,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:18:02.167] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:18:02.166] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:18:02.166] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:18:02.166] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":168,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":168,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":168,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:18:02.166] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit5]: {"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":168,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":168,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":168,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}[39m
función de success
función de final
[11:18:02.248] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":31,"type":"completion"}}[39m
[11:18:02.248] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:18:02.249] [34mDEBUG[39m (CashDispenser): [36mRetract result: {"device":"CASH_DISPENSER","status":"ok","type":"Retract"}[39m
[11:18:02.167] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:18:02.167] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:18:02.168] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":491,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":291,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":490,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":290,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"PrepareDispenseDistribution"}
[CD] unitKey: "unit1". actual denomPresented.values 1
[CD] unitKey: "unit1" -> denom: 50
[CD] unitKey: "unit2". actual denomPresented.values 1
[CD] unitKey: "unit2" -> denom: 20
[11:18:07.319] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:18:07.319] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:18:07.319] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:18:07.319] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:18:07.319] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:18:07.380] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:18:07.319] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:18:07.319] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:18:07.320] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:18:07.320] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:18:07.320] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":9,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:18:07.320] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:18:07.320] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:18:07.320] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:18:07.320] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":490,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":290,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:18:07.320] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:18:07.440] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}},"completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Dispense","requestId":32,"type":"completion"}}[39m
[11:18:07.442] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Present","type":"command","requestId":33},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:18:07.568] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:18:07.569] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Present","requestId":33,"type":"acknowledge"}}[39m
[11:18:07.320] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:18:07.320] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:18:07.441] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"Present"}[39m
[11:18:07.324] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":490,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":290,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:18:07.440] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"PrepareDispenseDistribution\"}"[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":490,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":290,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[11:18:13.147] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:18:13.147] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
[FBST] result de Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
-----------------------Waiting for next iteration 10 -------------------------------
[11:18:13.148] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":490,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":290,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:18:13.221] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"Present\",\"bills\":[{\"denom\":50,\"numBills\":1},{\"denom\":20,\"numBills\":1}]}"[39m
[11:18:13.221] [34mDEBUG[39m (TEST): [36mRecibido mensaje de éxito del Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:18:13.083] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}})[39m
[11:18:13.083] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:18:13.145] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:18:13.145] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:18:13.146] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:18:13.146] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:18:13.146] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:18:13.146] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:18:13.146] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:18:13.146] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:18:13.146] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":490,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":290,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:18:13.147] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:18:13.220] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"position":"outDefault","additionalBunches":"0","completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Present","requestId":33,"type":"completion"}}[39m
[11:18:13.083] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:18:13.083] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:18:13.083] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}}[39m
[11:18:13.083] [34mDEBUG[39m (CashDispenser): [36mUnsolicited sin tratar[39m
[11:18:13.145] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:18:13.145] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:18:13.145] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:18:13.145] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:18:13.145] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:18:13.220] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:18:13.220] [34mDEBUG[39m (CashDispenser): [36mPresent result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[CD] en retract
[CD] en retractFunction
[11:18:28.223] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashManagement.Retract","type":"command","requestId":34},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:18:28.298] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:18:28.298] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashManagement.Retract","requestId":34,"type":"acknowledge"}}[39m
-----------------------Starting next iteration 10 -------------------------------
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[11:18:29.225] [90mTRACE[39m (Function): [36m buildDenominationFromDispenseDistributionCommand({"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}, {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":168,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":168,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":168,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:18:29.225] [90mTRACE[39m (Function): [36m getMinimumValues([{"numBills":1,"denom":50},{"numBills":1,"denom":20}], {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":168,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":168,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":168,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:18:29.225] [90mTRACE[39m (Function): [36m sortByAvailables(50)[39m
[11:18:29.225] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:18:29.225] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:18:29.225] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:18:29.225] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:18:29.225] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:18:29.225] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m return from getFitFrom: 10[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m return from getSumCashOut: 10[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 490[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:18:29.226] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m return from getFitFrom: 10[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m return from getSumCashOut: 10[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 490[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m sortByAvailables(20)[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m return from getFitFrom: 10[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:18:29.227] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m return from getSumCashOut: 10[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 290[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m return from getFitFrom: 10[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m return from getSumCashOut: 10[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 290[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m return from getMinimumValues: {"unit1":1,"unit2":1}[39m
[11:18:29.228] [90mTRACE[39m (Function): [36m return from buildDenominationFromDispenseDistributionCommand: {"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}}[39m
[11:18:29.228] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Dispense","type":"command","requestId":35},"payload":{"timeout":60000,"denomination":{"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}},"token":"NONCE=254611E63B2531576314E86527338D61A"}}, (ack) => this.logger.debug(`ack received SetStorage ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved SetStorage ${JSON.stringify(event)}`))[39m
[11:18:29.365] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:18:29.365] [34mDEBUG[39m (CashDispenser): [36mack received SetStorage {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Dispense","requestId":35,"type":"acknowledge"}}[39m
[11:18:29.224] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":490,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":290,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
función de success
función de final
[11:18:50.151] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":169,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":169,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":169,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:18:50.151] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:18:50.151] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:18:50.151] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:18:50.151] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:18:50.151] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:18:50.151] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:18:50.151] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:18:50.151] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":490,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":290,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:18:50.152] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:18:50.215] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":34,"type":"completion"}}[39m
[11:18:50.151] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:18:50.151] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:18:50.151] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":169,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":169,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":169,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:18:50.151] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit5]: {"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":169,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":169,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":169,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}[39m
[11:18:50.215] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:18:50.216] [34mDEBUG[39m (CashDispenser): [36mRetract result: {"device":"CASH_DISPENSER","status":"ok","type":"Retract"}[39m
[11:18:50.151] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:18:50.151] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:18:50.155] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":490,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":290,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":489,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":289,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"PrepareDispenseDistribution"}
[CD] unitKey: "unit1". actual denomPresented.values 1
[CD] unitKey: "unit1" -> denom: 50
[CD] unitKey: "unit2". actual denomPresented.values 1
[CD] unitKey: "unit2" -> denom: 20
[11:18:55.262] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:18:55.262] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:18:55.262] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:18:55.262] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:18:55.262] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:18:55.262] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:18:55.263] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:18:55.263] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:18:55.263] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":489,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":289,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:18:55.263] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:18:55.349] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}},"completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Dispense","requestId":35,"type":"completion"}}[39m
[11:18:55.352] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Present","type":"command","requestId":36},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:18:55.262] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:18:55.262] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:18:55.262] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:18:55.262] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:18:55.262] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":10,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:18:55.349] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:18:55.462] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:18:55.462] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Present","requestId":36,"type":"acknowledge"}}[39m
[11:18:55.263] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:18:55.263] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:18:55.350] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"Present"}[39m
[11:18:55.264] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":489,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":289,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:18:55.349] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"PrepareDispenseDistribution\"}"[39m
[11:19:01.097] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:19:01.097] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:19:01.097] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}}[39m
[11:19:01.097] [34mDEBUG[39m (CashDispenser): [36mUnsolicited sin tratar[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":489,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":289,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[11:19:01.149] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:19:01.149] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:19:01.149] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:19:01.149] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:19:01.149] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
[FBST] result de Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
-----------------------Waiting for next iteration 11 -------------------------------
[11:19:01.212] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:19:01.213] [34mDEBUG[39m (CashDispenser): [36mPresent result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:19:01.150] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:19:01.150] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:19:01.151] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":489,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":289,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:19:01.213] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"Present\",\"bills\":[{\"denom\":50,\"numBills\":1},{\"denom\":20,\"numBills\":1}]}"[39m
[11:19:01.214] [34mDEBUG[39m (TEST): [36mRecibido mensaje de éxito del Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:19:01.097] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}})[39m
[11:19:01.097] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:19:01.149] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:19:01.150] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:19:01.150] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:19:01.150] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:19:01.150] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:19:01.150] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:19:01.150] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:19:01.150] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:19:01.150] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":489,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":289,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:19:01.150] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:19:01.212] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"position":"outDefault","additionalBunches":"0","completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Present","requestId":36,"type":"completion"}}[39m
[CD] en retract
[CD] en retractFunction
[11:19:16.213] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashManagement.Retract","type":"command","requestId":37},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:19:16.309] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:19:16.338] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashManagement.Retract","requestId":37,"type":"acknowledge"}}[39m
-----------------------Starting next iteration 11 -------------------------------
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[11:19:17.220] [90mTRACE[39m (Function): [36m buildDenominationFromDispenseDistributionCommand({"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}, {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":169,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":169,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":169,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:19:17.220] [90mTRACE[39m (Function): [36m getMinimumValues([{"numBills":1,"denom":50},{"numBills":1,"denom":20}], {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":169,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":169,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":169,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:19:17.220] [90mTRACE[39m (Function): [36m sortByAvailables(50)[39m
[11:19:17.220] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m return from getFitFrom: 11[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m return from getSumCashOut: 11[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 489[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:19:17.221] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from getFitFrom: 11[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from getSumCashOut: 11[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 489[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m sortByAvailables(20)[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from getFitFrom: 11[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from getSumCashOut: 11[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 289[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:19:17.222] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:19:17.223] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:19:17.223] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:19:17.223] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:19:17.223] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:19:17.223] [90mTRACE[39m (Function): [36m return from getFitFrom: 11[39m
[11:19:17.223] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:19:17.223] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.223] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:19:17.223] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.223] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:19:17.223] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.223] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:19:17.223] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.223] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:19:17.223] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.223] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:19:17.223] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:19:17.223] [90mTRACE[39m (Function): [36m return from getSumCashOut: 11[39m
[11:19:17.223] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 289[39m
[11:19:17.223] [90mTRACE[39m (Function): [36m return from getMinimumValues: {"unit1":1,"unit2":1}[39m
[11:19:17.223] [90mTRACE[39m (Function): [36m return from buildDenominationFromDispenseDistributionCommand: {"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}}[39m
[11:19:17.223] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Dispense","type":"command","requestId":38},"payload":{"timeout":60000,"denomination":{"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}},"token":"NONCE=254611E63B2531576314E86527338D61A"}}, (ack) => this.logger.debug(`ack received SetStorage ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved SetStorage ${JSON.stringify(event)}`))[39m
[11:19:17.219] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}[39m
[11:19:17.315] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:19:17.345] [34mDEBUG[39m (CashDispenser): [36mack received SetStorage {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Dispense","requestId":38,"type":"acknowledge"}}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":489,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":289,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
función de success
función de final
[11:19:37.988] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:19:37.988] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:19:37.988] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":170,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":170,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":170,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:19:37.988] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit5]: {"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":170,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":170,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":170,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}[39m
[11:19:38.052] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:19:38.053] [34mDEBUG[39m (CashDispenser): [36mRetract result: {"device":"CASH_DISPENSER","status":"ok","type":"Retract"}[39m
[11:19:37.991] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":489,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":289,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:19:37.988] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":170,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":170,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":170,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:19:37.988] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:19:37.988] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:19:37.988] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:19:37.988] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:19:37.988] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:19:37.988] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:19:37.988] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:19:37.988] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":489,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":289,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:19:37.990] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:19:38.052] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":37,"type":"completion"}}[39m
[11:19:37.989] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:19:37.989] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":488,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":288,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[11:19:43.138] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:19:43.138] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"PrepareDispenseDistribution"}
[CD] unitKey: "unit1". actual denomPresented.values 1
[CD] unitKey: "unit1" -> denom: 50
[CD] unitKey: "unit2". actual denomPresented.values 1
[CD] unitKey: "unit2" -> denom: 20
[11:19:43.219] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"Present"}[39m
[11:19:43.137] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:19:43.137] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:19:43.137] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:19:43.137] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:19:43.137] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:19:43.218] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:19:43.295] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:19:43.295] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Present","requestId":39,"type":"acknowledge"}}[39m
[11:19:43.139] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":488,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":288,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:19:43.218] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"PrepareDispenseDistribution\"}"[39m
[11:19:43.137] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:19:43.137] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:19:43.137] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:19:43.137] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:19:43.137] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":11,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:19:43.137] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:19:43.137] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:19:43.137] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:19:43.138] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":488,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":288,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:19:43.138] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:19:43.218] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}},"completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Dispense","requestId":38,"type":"completion"}}[39m
[11:19:43.220] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Present","type":"command","requestId":39},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":488,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":288,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
[FBST] result de Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
-----------------------Waiting for next iteration 12 -------------------------------
[11:19:48.881] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}})[39m
[11:19:48.881] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:19:48.943] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:19:48.944] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:19:48.944] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:19:48.944] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:19:48.944] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:19:48.944] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:19:48.944] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:19:48.944] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:19:48.944] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":488,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":288,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:19:48.944] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:19:49.005] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"position":"outDefault","additionalBunches":"0","completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Present","requestId":39,"type":"completion"}}[39m
[11:19:48.946] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":488,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":288,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:19:49.006] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"Present\",\"bills\":[{\"denom\":50,\"numBills\":1},{\"denom\":20,\"numBills\":1}]}"[39m
[11:19:49.007] [34mDEBUG[39m (TEST): [36mRecibido mensaje de éxito del Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:19:48.880] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:19:48.880] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:19:48.881] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}}[39m
[11:19:48.881] [34mDEBUG[39m (CashDispenser): [36mUnsolicited sin tratar[39m
[11:19:48.943] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:19:48.943] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:19:48.943] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:19:48.943] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:19:48.944] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:19:49.005] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:19:49.006] [34mDEBUG[39m (CashDispenser): [36mPresent result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:19:48.944] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:19:48.944] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[CD] en retract
[CD] en retractFunction
[11:20:04.020] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashManagement.Retract","type":"command","requestId":40},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:20:04.094] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:20:04.161] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashManagement.Retract","requestId":40,"type":"acknowledge"}}[39m
-----------------------Starting next iteration 12 -------------------------------
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[11:20:05.077] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:20:05.128] [34mDEBUG[39m (CashDispenser): [36mack received SetStorage {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Dispense","requestId":41,"type":"acknowledge"}}[39m
[11:20:05.020] [90mTRACE[39m (Function): [36m buildDenominationFromDispenseDistributionCommand({"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}, {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":170,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":170,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":170,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:20:05.021] [90mTRACE[39m (Function): [36m getMinimumValues([{"numBills":1,"denom":50},{"numBills":1,"denom":20}], {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":170,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":170,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":170,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:20:05.021] [90mTRACE[39m (Function): [36m sortByAvailables(50)[39m
[11:20:05.021] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:20:05.021] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:20:05.021] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:20:05.021] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:20:05.021] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:20:05.021] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:20:05.021] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m return from getFitFrom: 12[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m return from getSumCashOut: 12[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 488[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m return from getFitFrom: 12[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m return from getSumCashOut: 12[39m
[11:20:05.022] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 488[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m sortByAvailables(20)[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m return from getFitFrom: 12[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m return from getSumCashOut: 12[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 288[39m
[11:20:05.023] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:20:05.025] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:20:05.025] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:20:05.025] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:20:05.025] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:20:05.026] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:20:05.026] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:20:05.026] [90mTRACE[39m (Function): [36m return from getFitFrom: 12[39m
[11:20:05.026] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:20:05.026] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.026] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:20:05.026] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.026] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:20:05.026] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.026] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:20:05.026] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.026] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:20:05.026] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.026] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:20:05.026] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:05.026] [90mTRACE[39m (Function): [36m return from getSumCashOut: 12[39m
[11:20:05.026] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 288[39m
[11:20:05.026] [90mTRACE[39m (Function): [36m return from getMinimumValues: {"unit1":1,"unit2":1}[39m
[11:20:05.026] [90mTRACE[39m (Function): [36m return from buildDenominationFromDispenseDistributionCommand: {"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}}[39m
[11:20:05.026] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Dispense","type":"command","requestId":41},"payload":{"timeout":60000,"denomination":{"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}},"token":"NONCE=254611E63B2531576314E86527338D61A"}}, (ack) => this.logger.debug(`ack received SetStorage ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved SetStorage ${JSON.stringify(event)}`))[39m
[11:20:05.020] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":488,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":288,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
función de success
función de final
[11:20:25.825] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:20:25.825] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:20:25.824] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:20:25.824] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:20:25.824] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":171,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":171,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":171,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:20:25.825] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit5]: {"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":171,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":171,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":171,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}[39m
[11:20:25.890] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:20:25.950] [33mWARN[39m (CashDispenser): [36mwaitCompletionMessage::Cuidado, ha llegado complete tarde.Estamos tratando el complete con requestId: 41 y el lastCompleteRequestId es: 40[39m
[11:20:25.950] [33mWARN[39m (CashDispenser): [36mlastCompletionMsg: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":40,"type":"completion"}}[39m
[11:20:25.951] [34mDEBUG[39m (CashDispenser): [36mRetract result: {"device":"CASH_DISPENSER","status":"ok","type":"Retract"}[39m
[11:20:25.824] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":171,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":171,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":171,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:20:25.825] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:20:25.825] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:20:25.825] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:20:25.825] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:20:25.825] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:20:25.825] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:20:25.825] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:20:25.825] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":488,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":288,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:20:25.832] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:20:25.951] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":40,"type":"completion"}}[39m
[11:20:25.833] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":488,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":288,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":487,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":287,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[11:20:30.951] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":487,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":287,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"PrepareDispenseDistribution"}
[CD] unitKey: "unit1". actual denomPresented.values 1
[CD] unitKey: "unit1" -> denom: 50
[CD] unitKey: "unit2". actual denomPresented.values 1
[CD] unitKey: "unit2" -> denom: 20
[11:20:31.076] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"PrepareDispenseDistribution\"}"[39m
[11:20:30.949] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:20:30.949] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:20:31.077] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"Present"}[39m
[11:20:30.948] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:20:30.948] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:20:30.949] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:20:30.949] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:20:30.949] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:20:31.010] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:20:31.136] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:20:31.136] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Present","requestId":42,"type":"acknowledge"}}[39m
[11:20:30.948] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:20:30.949] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:20:30.949] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:20:30.949] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:20:30.949] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":12,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:20:30.949] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:20:30.949] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:20:30.949] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:20:30.949] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":487,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":287,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:20:30.950] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:20:31.076] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}},"completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Dispense","requestId":41,"type":"completion"}}[39m
[11:20:31.079] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Present","type":"command","requestId":42},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:20:36.930] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}})[39m
[11:20:36.930] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":487,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":287,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[11:20:36.993] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:20:36.993] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:20:36.993] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:20:36.993] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:20:36.993] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:20:36.993] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:20:36.993] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:20:36.993] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:20:36.993] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":487,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":287,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:20:36.994] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
[FBST] result de Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
-----------------------Waiting for next iteration 13 -------------------------------
[11:20:37.055] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"position":"outDefault","additionalBunches":"0","completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Present","requestId":42,"type":"completion"}}[39m
[11:20:36.994] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":487,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":287,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:20:37.056] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"Present\",\"bills\":[{\"denom\":50,\"numBills\":1},{\"denom\":20,\"numBills\":1}]}"[39m
[11:20:37.057] [34mDEBUG[39m (TEST): [36mRecibido mensaje de éxito del Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:20:36.993] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:20:36.993] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:20:36.930] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:20:36.930] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:20:36.930] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}}[39m
[11:20:36.930] [34mDEBUG[39m (CashDispenser): [36mUnsolicited sin tratar[39m
[11:20:36.993] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:20:36.993] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:20:36.993] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:20:36.993] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:20:36.993] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:20:37.055] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:20:37.056] [34mDEBUG[39m (CashDispenser): [36mPresent result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[CD] en retract
[CD] en retractFunction
[11:20:52.144] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:20:52.215] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashManagement.Retract","requestId":43,"type":"acknowledge"}}[39m
[11:20:52.063] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashManagement.Retract","type":"command","requestId":43},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
-----------------------Starting next iteration 13 -------------------------------
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[11:20:53.196] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:20:53.196] [34mDEBUG[39m (CashDispenser): [36mack received SetStorage {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Dispense","requestId":44,"type":"acknowledge"}}[39m
[11:20:53.066] [90mTRACE[39m (Function): [36m buildDenominationFromDispenseDistributionCommand({"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}, {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":171,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":171,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":171,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:20:53.067] [90mTRACE[39m (Function): [36m getMinimumValues([{"numBills":1,"denom":50},{"numBills":1,"denom":20}], {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":171,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":171,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":171,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:20:53.067] [90mTRACE[39m (Function): [36m sortByAvailables(50)[39m
[11:20:53.067] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:20:53.067] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:20:53.067] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:20:53.067] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:20:53.067] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:20:53.067] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m return from getFitFrom: 13[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m return from getSumCashOut: 13[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 487[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m return from getFitFrom: 13[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.068] [90mTRACE[39m (Function): [36m return from getSumCashOut: 13[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 487[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m sortByAvailables(20)[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m return from getFitFrom: 13[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m return from getSumCashOut: 13[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 287[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:20:53.069] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m return from getFitFrom: 13[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m return from getSumCashOut: 13[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 287[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m return from getMinimumValues: {"unit1":1,"unit2":1}[39m
[11:20:53.070] [90mTRACE[39m (Function): [36m return from buildDenominationFromDispenseDistributionCommand: {"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}}[39m
[11:20:53.070] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Dispense","type":"command","requestId":44},"payload":{"timeout":60000,"denomination":{"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}},"token":"NONCE=254611E63B2531576314E86527338D61A"}}, (ack) => this.logger.debug(`ack received SetStorage ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved SetStorage ${JSON.stringify(event)}`))[39m
[11:20:53.066] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":487,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":287,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[11:21:14.062] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:21:14.062] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
función de success
función de final
[11:21:14.061] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:21:14.061] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:21:14.061] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":172,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":172,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":172,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:21:14.061] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit5]: {"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":172,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":172,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":172,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}[39m
[11:21:14.152] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:21:14.152] [33mWARN[39m (CashDispenser): [36mwaitCompletionMessage::Cuidado, ha llegado complete tarde.Estamos tratando el complete con requestId: 44 y el lastCompleteRequestId es: 43[39m
[11:21:14.152] [33mWARN[39m (CashDispenser): [36mlastCompletionMsg: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":43,"type":"completion"}}[39m
[11:21:14.318] [34mDEBUG[39m (CashDispenser): [36mRetract result: {"device":"CASH_DISPENSER","status":"ok","type":"Retract"}[39m
[11:21:14.061] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":172,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":172,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":172,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:21:14.062] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:21:14.062] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:21:14.062] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:21:14.062] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:21:14.062] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:21:14.062] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:21:14.062] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:21:14.062] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":487,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":287,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:21:14.062] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:21:14.318] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":43,"type":"completion"}}[39m
[11:21:14.067] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":487,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":287,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":486,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":286,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[11:21:19.163] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:21:19.163] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:21:19.163] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:21:19.163] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:21:19.164] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"PrepareDispenseDistribution"}
[CD] unitKey: "unit1". actual denomPresented.values 1
[CD] unitKey: "unit1" -> denom: 50
[CD] unitKey: "unit2". actual denomPresented.values 1
[CD] unitKey: "unit2" -> denom: 20
[11:21:19.251] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:21:19.166] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":486,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":286,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:21:19.252] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"PrepareDispenseDistribution\"}"[39m
[11:21:19.163] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:21:19.164] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:21:19.164] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:21:19.164] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:21:19.164] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":13,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:21:19.164] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:21:19.164] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:21:19.164] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:21:19.164] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":486,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":286,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:21:19.164] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:21:19.252] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}},"completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Dispense","requestId":44,"type":"completion"}}[39m
[11:21:19.254] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Present","type":"command","requestId":45},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:21:19.304] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:21:19.322] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Present","requestId":45,"type":"acknowledge"}}[39m
[11:21:19.164] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:21:19.164] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:21:19.253] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"Present"}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":486,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":286,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
[FBST] result de Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
-----------------------Waiting for next iteration 14 -------------------------------
[11:21:24.817] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:21:24.817] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:21:24.819] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":486,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":286,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:21:24.896] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"Present\",\"bills\":[{\"denom\":50,\"numBills\":1},{\"denom\":20,\"numBills\":1}]}"[39m
[11:21:24.897] [34mDEBUG[39m (TEST): [36mRecibido mensaje de éxito del Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:21:24.755] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}})[39m
[11:21:24.755] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:21:24.817] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:21:24.817] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:21:24.817] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:21:24.817] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:21:24.817] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:21:24.817] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:21:24.817] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:21:24.817] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:21:24.817] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":486,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":286,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:21:24.818] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:21:24.895] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"position":"outDefault","additionalBunches":"0","completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Present","requestId":45,"type":"completion"}}[39m
[11:21:24.755] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:21:24.755] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:21:24.755] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}}[39m
[11:21:24.755] [34mDEBUG[39m (CashDispenser): [36mUnsolicited sin tratar[39m
[11:21:24.816] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:21:24.816] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:21:24.817] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:21:24.817] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:21:24.817] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:21:24.895] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:21:24.895] [34mDEBUG[39m (CashDispenser): [36mPresent result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[CD] en retract
[CD] en retractFunction
[11:21:39.903] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashManagement.Retract","type":"command","requestId":46},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:21:39.983] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:21:39.983] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashManagement.Retract","requestId":46,"type":"acknowledge"}}[39m
-----------------------Starting next iteration 14 -------------------------------
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[11:21:40.912] [90mTRACE[39m (Function): [36m buildDenominationFromDispenseDistributionCommand({"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}, {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":172,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":172,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":172,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:21:40.912] [90mTRACE[39m (Function): [36m getMinimumValues([{"numBills":1,"denom":50},{"numBills":1,"denom":20}], {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":172,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":172,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":172,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:21:40.912] [90mTRACE[39m (Function): [36m sortByAvailables(50)[39m
[11:21:40.912] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:21:40.912] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:21:40.912] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:21:40.912] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:21:40.912] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:21:40.912] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m return from getFitFrom: 14[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m return from getSumCashOut: 14[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 486[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m return from getFitFrom: 14[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m return from getSumCashOut: 14[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 486[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m sortByAvailables(20)[39m
[11:21:40.913] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m return from getFitFrom: 14[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m return from getSumCashOut: 14[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 286[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:21:40.914] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:21:40.915] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:21:40.915] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:21:40.915] [90mTRACE[39m (Function): [36m return from getFitFrom: 14[39m
[11:21:40.915] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:21:40.915] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.915] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:21:40.915] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.915] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:21:40.915] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.915] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:21:40.915] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.915] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:21:40.915] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.915] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:21:40.915] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:21:40.915] [90mTRACE[39m (Function): [36m return from getSumCashOut: 14[39m
[11:21:40.915] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 286[39m
[11:21:40.915] [90mTRACE[39m (Function): [36m return from getMinimumValues: {"unit1":1,"unit2":1}[39m
[11:21:40.915] [90mTRACE[39m (Function): [36m return from buildDenominationFromDispenseDistributionCommand: {"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}}[39m
[11:21:40.915] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Dispense","type":"command","requestId":47},"payload":{"timeout":60000,"denomination":{"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}},"token":"NONCE=254611E63B2531576314E86527338D61A"}}, (ack) => this.logger.debug(`ack received SetStorage ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved SetStorage ${JSON.stringify(event)}`))[39m
[11:21:40.967] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:21:40.967] [34mDEBUG[39m (CashDispenser): [36mack received SetStorage {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Dispense","requestId":47,"type":"acknowledge"}}[39m
[11:21:40.911] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":486,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":286,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
función de success
función de final
[11:22:01.658] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":486,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":286,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:22:01.656] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":173,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":173,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":173,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:22:01.656] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:22:01.656] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:22:01.656] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:01.656] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:22:01.656] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:01.656] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:22:01.656] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:01.656] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":486,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":286,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:22:01.657] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:22:01.725] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":46,"type":"completion"}}[39m
[11:22:01.655] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:22:01.655] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:22:01.656] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":173,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":173,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":173,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:22:01.656] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit5]: {"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":173,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":173,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":173,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}[39m
[11:22:01.724] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:22:01.725] [34mDEBUG[39m (CashDispenser): [36mRetract result: {"device":"CASH_DISPENSER","status":"ok","type":"Retract"}[39m
[11:22:01.657] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:22:01.657] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":485,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":285,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[11:22:06.799] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:22:06.799] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"PrepareDispenseDistribution"}
[CD] unitKey: "unit1". actual denomPresented.values 1
[CD] unitKey: "unit1" -> denom: 50
[CD] unitKey: "unit2". actual denomPresented.values 1
[CD] unitKey: "unit2" -> denom: 20
[11:22:06.862] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"Present"}[39m
[11:22:06.800] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":485,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":285,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:22:06.862] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"PrepareDispenseDistribution\"}"[39m
[11:22:06.799] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:22:06.799] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:22:06.799] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:22:06.799] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:22:06.799] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:22:06.861] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:22:06.926] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:22:06.926] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Present","requestId":48,"type":"acknowledge"}}[39m
[11:22:06.799] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:22:06.799] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:22:06.799] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:22:06.799] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:06.799] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":14,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:22:06.799] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:06.799] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:22:06.799] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:06.799] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":485,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":285,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:22:06.799] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:22:06.861] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}},"completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Dispense","requestId":47,"type":"completion"}}[39m
[11:22:06.863] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Present","type":"command","requestId":48},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":485,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":285,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
[FBST] result de Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
-----------------------Waiting for next iteration 15 -------------------------------
[11:22:12.861] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:22:12.861] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:22:12.864] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":485,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":285,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:22:12.941] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"Present\",\"bills\":[{\"denom\":50,\"numBills\":1},{\"denom\":20,\"numBills\":1}]}"[39m
[11:22:12.942] [34mDEBUG[39m (TEST): [36mRecibido mensaje de éxito del Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:22:12.797] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:22:12.797] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:22:12.797] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}}[39m
[11:22:12.797] [34mDEBUG[39m (CashDispenser): [36mUnsolicited sin tratar[39m
[11:22:12.860] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:22:12.860] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:22:12.860] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:22:12.860] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:22:12.860] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:22:12.940] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:22:12.941] [34mDEBUG[39m (CashDispenser): [36mPresent result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:22:12.797] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}})[39m
[11:22:12.797] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:22:12.860] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:22:12.860] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:22:12.860] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:22:12.860] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:12.861] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:22:12.861] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:12.861] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:22:12.861] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:12.861] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":485,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":285,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:22:12.861] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:22:12.941] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"position":"outDefault","additionalBunches":"0","completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Present","requestId":48,"type":"completion"}}[39m
[CD] en retract
[CD] en retractFunction
[11:22:27.949] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashManagement.Retract","type":"command","requestId":49},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
-----------------------Starting next iteration 15 -------------------------------
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[11:22:28.042] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:22:28.097] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashManagement.Retract","requestId":49,"type":"acknowledge"}}[39m
[11:22:29.075] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:22:29.075] [34mDEBUG[39m (CashDispenser): [36mack received SetStorage {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Dispense","requestId":50,"type":"acknowledge"}}[39m
[11:22:28.952] [90mTRACE[39m (Function): [36m buildDenominationFromDispenseDistributionCommand({"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}, {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":173,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":173,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":173,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:22:28.952] [90mTRACE[39m (Function): [36m getMinimumValues([{"numBills":1,"denom":50},{"numBills":1,"denom":20}], {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":173,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":173,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":173,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:22:28.952] [90mTRACE[39m (Function): [36m sortByAvailables(50)[39m
[11:22:28.952] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:22:28.952] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:22:28.952] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:22:28.952] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:22:28.952] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:22:28.952] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getFitFrom: 15[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getSumCashOut: 15[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 485[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getFitFrom: 15[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getSumCashOut: 15[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 485[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m sortByAvailables(20)[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:22:28.953] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m return from getFitFrom: 15[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m return from getSumCashOut: 15[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 285[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m return from getFitFrom: 15[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.954] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:22:28.955] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.955] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:22:28.955] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:22:28.955] [90mTRACE[39m (Function): [36m return from getSumCashOut: 15[39m
[11:22:28.955] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 285[39m
[11:22:28.955] [90mTRACE[39m (Function): [36m return from getMinimumValues: {"unit1":1,"unit2":1}[39m
[11:22:28.955] [90mTRACE[39m (Function): [36m return from buildDenominationFromDispenseDistributionCommand: {"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}}[39m
[11:22:28.955] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Dispense","type":"command","requestId":50},"payload":{"timeout":60000,"denomination":{"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}},"token":"NONCE=254611E63B2531576314E86527338D61A"}}, (ack) => this.logger.debug(`ack received SetStorage ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved SetStorage ${JSON.stringify(event)}`))[39m
[11:22:28.951] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":485,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":285,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
función de success
función de final
[11:22:49.939] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:22:49.939] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:22:49.939] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":174,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":174,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":174,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:22:49.939] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit5]: {"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":174,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":174,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":174,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}[39m
[11:22:50.008] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:22:50.008] [33mWARN[39m (CashDispenser): [36mwaitCompletionMessage::Cuidado, ha llegado complete tarde.Estamos tratando el complete con requestId: 50 y el lastCompleteRequestId es: 49[39m
[11:22:50.008] [33mWARN[39m (CashDispenser): [36mlastCompletionMsg: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":49,"type":"completion"}}[39m
[11:22:50.063] [34mDEBUG[39m (CashDispenser): [36mRetract result: {"device":"CASH_DISPENSER","status":"ok","type":"Retract"}[39m
[11:22:49.939] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":174,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":174,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":174,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:22:49.940] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:22:49.940] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:22:49.940] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:49.940] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:22:49.940] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:49.940] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:22:49.940] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:49.941] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":485,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":285,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:22:49.941] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:22:50.063] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":49,"type":"completion"}}[39m
[11:22:49.941] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:22:49.941] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:22:49.942] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":485,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":285,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":484,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":284,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":484,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":284,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[11:22:55.012] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":484,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":284,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:22:55.082] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":484,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":284,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":484,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":284,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[11:22:55.172] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":484,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":284,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"PrepareDispenseDistribution"}
[CD] unitKey: "unit1". actual denomPresented.values 1
[CD] unitKey: "unit1" -> denom: 50
[CD] unitKey: "unit2". actual denomPresented.values 1
[CD] unitKey: "unit2" -> denom: 20
[11:22:55.230] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"PrepareDispenseDistribution\"}"[39m
[11:22:55.009] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:22:55.009] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:22:55.010] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:22:55.010] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:22:55.010] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:22:55.079] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:22:55.079] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:22:55.080] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:22:55.080] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:22:55.080] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:22:55.170] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:22:55.170] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:22:55.170] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:22:55.170] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:22:55.229] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:22:55.345] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:22:55.346] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Present","requestId":51,"type":"acknowledge"}}[39m
[11:22:55.010] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:22:55.010] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:22:55.010] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:22:55.010] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:55.010] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:22:55.010] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:55.010] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:22:55.010] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:55.010] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":484,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":284,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:22:55.010] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:22:55.080] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:22:55.080] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:22:55.080] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:22:55.080] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:55.080] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:22:55.080] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:55.080] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:22:55.080] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:55.080] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":484,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":284,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:22:55.081] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:22:55.170] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:22:55.170] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:22:55.170] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:22:55.171] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:55.171] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":15,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:22:55.171] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:55.171] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:22:55.171] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:22:55.171] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":484,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":284,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:22:55.171] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:22:55.229] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}},"completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Dispense","requestId":50,"type":"completion"}}[39m
[11:22:55.232] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Present","type":"command","requestId":51},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:22:55.010] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:22:55.010] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:22:55.080] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:22:55.080] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:22:55.171] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:22:55.171] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:22:55.231] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"Present"}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":484,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":284,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
[FBST] result de Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
-----------------------Waiting for next iteration 16 -------------------------------
[11:23:00.542] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:23:00.542] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:23:00.542] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}}[39m
[11:23:00.542] [34mDEBUG[39m (CashDispenser): [36mUnsolicited sin tratar[39m
[11:23:00.595] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:23:00.595] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:23:00.595] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:23:00.596] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:23:00.596] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:23:00.659] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:23:00.659] [34mDEBUG[39m (CashDispenser): [36mPresent result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:23:00.542] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}})[39m
[11:23:00.542] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:23:00.595] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:23:00.596] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:23:00.596] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:23:00.596] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:23:00.596] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:23:00.596] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:23:00.596] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:23:00.596] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:23:00.596] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":484,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":284,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:23:00.596] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:23:00.659] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"position":"outDefault","additionalBunches":"0","completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Present","requestId":51,"type":"completion"}}[39m
[11:23:00.596] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:23:00.596] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:23:00.598] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":484,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":284,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:23:00.659] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"Present\",\"bills\":[{\"denom\":50,\"numBills\":1},{\"denom\":20,\"numBills\":1}]}"[39m
[11:23:00.660] [34mDEBUG[39m (TEST): [36mRecibido mensaje de éxito del Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[CD] en retract
[CD] en retractFunction
[11:23:15.671] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashManagement.Retract","type":"command","requestId":52},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:23:15.766] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:23:15.811] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashManagement.Retract","requestId":52,"type":"acknowledge"}}[39m
-----------------------Starting next iteration 16 -------------------------------
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[11:23:16.675] [90mTRACE[39m (Function): [36m buildDenominationFromDispenseDistributionCommand({"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}, {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":174,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":174,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":174,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:23:16.675] [90mTRACE[39m (Function): [36m getMinimumValues([{"numBills":1,"denom":50},{"numBills":1,"denom":20}], {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":174,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":174,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":174,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:23:16.675] [90mTRACE[39m (Function): [36m sortByAvailables(50)[39m
[11:23:16.675] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:23:16.675] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:23:16.675] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:23:16.675] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:23:16.675] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:23:16.675] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m return from getFitFrom: 16[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m return from getSumCashOut: 16[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 484[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m return from getFitFrom: 16[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m return from getSumCashOut: 16[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 484[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m sortByAvailables(20)[39m
[11:23:16.676] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m return from getFitFrom: 16[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m return from getSumCashOut: 16[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 284[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:23:16.677] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:23:16.678] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:23:16.678] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:23:16.678] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:23:16.678] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:23:16.678] [90mTRACE[39m (Function): [36m return from getFitFrom: 16[39m
[11:23:16.678] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:23:16.678] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.678] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:23:16.678] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.678] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:23:16.678] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.678] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:23:16.678] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.678] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:23:16.678] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.678] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:23:16.678] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:23:16.678] [90mTRACE[39m (Function): [36m return from getSumCashOut: 16[39m
[11:23:16.678] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 284[39m
[11:23:16.678] [90mTRACE[39m (Function): [36m return from getMinimumValues: {"unit1":1,"unit2":1}[39m
[11:23:16.678] [90mTRACE[39m (Function): [36m return from buildDenominationFromDispenseDistributionCommand: {"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}}[39m
[11:23:16.678] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Dispense","type":"command","requestId":53},"payload":{"timeout":60000,"denomination":{"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}},"token":"NONCE=254611E63B2531576314E86527338D61A"}}, (ack) => this.logger.debug(`ack received SetStorage ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved SetStorage ${JSON.stringify(event)}`))[39m
[11:23:16.749] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:23:16.805] [34mDEBUG[39m (CashDispenser): [36mack received SetStorage {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Dispense","requestId":53,"type":"acknowledge"}}[39m
[11:23:16.674] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":484,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":284,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
función de success
función de final
[11:23:37.642] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:23:37.642] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:23:37.643] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":484,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":284,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:23:37.641] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:23:37.641] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:23:37.642] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":175,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":175,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":175,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:23:37.642] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit5]: {"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":175,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":175,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":175,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}[39m
[11:23:37.703] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:23:37.766] [34mDEBUG[39m (CashDispenser): [36mRetract result: {"device":"CASH_DISPENSER","status":"ok","type":"Retract"}[39m
[11:23:37.641] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit5":{"id":"D0005","positionName":"CASSETTER","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":175,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":175,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":175,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:23:37.642] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:23:37.642] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:23:37.642] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:23:37.642] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:23:37.642] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:23:37.642] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:23:37.642] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:23:37.642] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":484,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":284,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:23:37.643] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:23:37.765] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"storage":{"unit5":{"retractOperations":1,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}}},"completionCode":"success","errorDescription":""},"header":{"name":"CashManagement.Retract","requestId":52,"type":"completion"}}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":483,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":283,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"PrepareDispenseDistribution"}
[CD] unitKey: "unit1". actual denomPresented.values 1
[CD] unitKey: "unit1" -> denom: 50
[CD] unitKey: "unit2". actual denomPresented.values 1
[CD] unitKey: "unit2" -> denom: 20
[11:23:42.772] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:23:42.772] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:23:42.914] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"Present"}[39m
[11:23:42.773] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":483,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":283,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:23:42.913] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"PrepareDispenseDistribution\"}"[39m
[11:23:42.771] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:23:42.771] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:23:42.771] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:23:42.771] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:23:42.772] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:23:42.772] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:23:42.772] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:23:42.772] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:23:42.772] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":483,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":283,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:23:42.772] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:23:42.912] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}},"completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Dispense","requestId":53,"type":"completion"}}[39m
[11:23:42.915] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Present","type":"command","requestId":54},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
[11:23:42.771] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:23:42.771] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:23:42.771] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:23:42.771] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:23:42.771] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":16,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":1,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:23:42.846] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:23:43.034] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: acknowledge[39m
[11:23:43.034] [34mDEBUG[39m (CashDispenser): [36mack received {"payload":{"status":"ok"},"header":{"name":"CashDispenser.Present","requestId":54,"type":"acknowledge"}}[39m
[FBST] result: {"device":"CASH_DISPENSER","type":"BoxesInfo","boxes":[{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":483,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":283,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}]}
[FBST] result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
[FBST] result de Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}
-----------------------Waiting for next iteration 17 -------------------------------
[11:23:49.601] [34mDEBUG[39m (MdcsIotDevices): [36mSe busca el device con nombre: CASH[39m
[11:23:49.601] [32mINFO[39m (MdcsIotDevices): [36mSe intenta progagar unsolicited desde Fujitsu - CashDispenserXFS3 hacia los 1 conectados.[39m
[11:23:49.602] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"type\":\"BoxesInfo\",\"boxes\":[{\"id\":\"unit1\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR50\",\"denom\":50,\"currency\":\"EUR\",\"initialBills\":{\"fit\":500,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":483,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit2\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR20\",\"denom\":20,\"currency\":\"EUR\",\"initialBills\":{\"fit\":300,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":283,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit3\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[{\"name\":\"EUR10\",\"denom\":10,\"currency\":\"EUR\",\"initialBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0},\"currentBills\":{\"fit\":400,\"unfit\":0,\"suspect\":0,\"counterfeit\":0,\"inked\":0}}]},{\"id\":\"unit4\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":false,\"boxType\":\"out\",\"capacity\":2000,\"status\":\"missing\",\"serialNumber\":\"sn000\",\"retractType\":\"none\",\"denominations\":[]},{\"id\":\"unit5\",\"highThreshold\":1000,\"lowThreshold\":0,\"allowReject\":true,\"boxType\":\"none\",\"capacity\":2000,\"status\":\"ok\",\"serialNumber\":\"sn000\",\"retractType\":\"cashOut\",\"denominations\":[]}]}"[39m
[11:23:49.672] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"device\":\"CASH_DISPENSER\",\"status\":\"ok\",\"type\":\"Present\",\"bills\":[{\"denom\":50,\"numBills\":1},{\"denom\":20,\"numBills\":1}]}"[39m
[11:23:49.673] [34mDEBUG[39m (TEST): [36mRecibido mensaje de éxito del Present {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[11:23:49.536] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}})[39m
[11:23:49.536] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:23:49.600] [90mTRACE[39m (CashDispenser): [36m manageUnsolicited({"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}})[39m
[11:23:49.601] [90mTRACE[39m (CashDispenser): [36mgetBoxes getBoxes()[39m
[11:23:49.601] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:23:49.601] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:23:49.601] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:23:49.601] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:23:49.601] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}})[39m
[11:23:49.601] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:23:49.601] [90mTRACE[39m (CashDispenser): [36mgetBoxes return from getBoxes: [{"id":"unit1","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR50","denom":50,"currency":"EUR","initialBills":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":483,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit2","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR20","denom":20,"currency":"EUR","initialBills":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":283,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit3","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[{"name":"EUR10","denom":10,"currency":"EUR","initialBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"currentBills":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}]},{"id":"unit4","highThreshold":1000,"lowThreshold":0,"allowReject":false,"boxType":"out","capacity":2000,"status":"missing","serialNumber":"sn000","retractType":"none","denominations":[]},{"id":"unit5","highThreshold":1000,"lowThreshold":0,"allowReject":true,"boxType":"none","capacity":2000,"status":"ok","serialNumber":"sn000","retractType":"cashOut","denominations":[]}][39m
[11:23:49.601] [90mTRACE[39m (CashDispenser): [36m return from manageUnsolicited: undefined[39m
[11:23:49.671] [90mTRACE[39m (Device): [36m<------------| return from send: {"payload":{"position":"outDefault","additionalBunches":"0","completionCode":"success","errorDescription":""},"header":{"name":"CashDispenser.Present","requestId":54,"type":"completion"}}[39m
[11:23:49.536] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:23:49.536] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:23:49.536] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"position":{"position":"outDefault","additionalBunches":"0"}},"header":{"name":"CashManagement.ItemsPresentedEvent","type":"unsolicited"}}[39m
[11:23:49.536] [34mDEBUG[39m (CashDispenser): [36mUnsolicited sin tratar[39m
[11:23:49.600] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: event[39m
[11:23:49.600] [33mWARN[39m (CashDispenser): [36mcheckQueues::Cuidado, ha llegado evento sin requestId o requestId = 0. Por compatibilidad, se transforma en un evento tipo unsolicited y se tratara como tal, haciendo un broadcast[39m
[11:23:49.600] [34mDEBUG[39m (CashDispenser): [36mLlega unsolicited[CASH]: {"payload":{"unit1":{"id":"D0001","positionName":"CASSETTE1","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}},"unit2":{"id":"D0002","positionName":"CASSETTE2","capacity":2000,"status":"ok","serialNumber":"sn000","cash":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}}},"header":{"name":"Storage.StorageChangedEvent","type":"unsolicited"}}[39m
[11:23:49.601] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit1]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:23:49.601] [34mDEBUG[39m (CashDispenser): [36mSe encuentra cash en [unit2]: {"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}}[39m
[11:23:49.671] [34mDEBUG[39m (CashDispenser): [36mSe solicita un manageMessage a la clase que hereda: completion[39m
[11:23:49.671] [34mDEBUG[39m (CashDispenser): [36mPresent result: {"device":"CASH_DISPENSER","status":"ok","type":"Present","bills":[{"denom":50,"numBills":1},{"denom":20,"numBills":1}]}[39m
[CD] en retract
[CD] en retractFunction
[11:24:04.676] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashManagement.Retract","type":"command","requestId":55},"payload":{"timeout":60000}}, (ack) => this.logger.debug(`ack received ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved ${JSON.stringify(event)}`))[39m
-----------------------Starting next iteration 17 -------------------------------
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[CDM] getAvailablesFrom unitinital {"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}
[11:24:05.677] [90mTRACE[39m (Function): [36m buildDenominationFromDispenseDistributionCommand({"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}, {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":175,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":175,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":175,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:24:05.677] [90mTRACE[39m (Function): [36m getMinimumValues([{"numBills":1,"denom":50},{"numBills":1,"denom":20}], {"unit1":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit2":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit3":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR10"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":10,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR10"]},"status":{"index":3,"initial":{"unrecognized":0,"EUR10":{"fit":400,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"}},"unit4":{"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":[]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":4,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}},"unit5":{"capabilities":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":false,"replenishment":false,"cashInRetract":false,"cashOutRetract":true,"reject":true},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"","value":0,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":[]},"status":{"index":5,"initial":{"unrecognized":0},"out":{"presented":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":175,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0,"EUR50":{"fit":175,"unfit":0,"suspect":0,"counterfeit":0,"inked":0},"EUR20":{"fit":175,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"empty"}}})[39m
[11:24:05.677] [90mTRACE[39m (Function): [36m sortByAvailables(50)[39m
[11:24:05.677] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:24:05.677] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:24:05.677] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:24:05.677] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:24:05.677] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:24:05.678] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m return from getFitFrom: 17[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m return from getSumCashOut: 17[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 483[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR50[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"}, EUR50)[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":50,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR50"]},"status":{"index":1,"initial":{"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR50":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit1"})[39m
[11:24:05.679] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR50":{"fit":500,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR50":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR50)[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m return from getFitFrom: 17[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR50":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR50)[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR50)[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m return from getSumCashOut: 17[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 483[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m sortByAvailables(20)[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m return from sortByAvailables: (unit1, unit2) => {
            let keydenom = CashDispenserMapper.getUniqueKeyDenom(unit1);
            const unit1Available = CashDispenserMapper.getAvailablesFrom(unit1, keydenom);
            keydenom = CashDispenserMapper.getUniqueKeyDenom(unit2);
            const unit2Available = CashDispenserMapper.getAvailablesFrom(unit2, keydenom);
            return unit1Available - unit2Available;
        }[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:24:05.680] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m return from getFitFrom: 17[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m return from getSumCashOut: 17[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 283[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m getUniqueKeyDenom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m return from getUniqueKeyDenom: EUR20[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m getAvailablesFrom({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"}, EUR20)[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m getStatusInitial({"capabilities":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"hardwareSensors":true,"retractAreas":1,"retractThresholds":false,"cashItems":["EUR5","EUR10","EUR20","EUR50","EUR100","EUR200"]},"configuration":{"types":{"cashIn":false,"cashOut":true,"replenishment":false,"cashInRetract":false,"cashOutRetract":false,"reject":false},"items":{"fit":true,"unfit":false,"unrecognized":false,"counterfeit":false,"suspect":false,"inked":false,"coupon":false,"document":false},"currency":"EUR","value":20,"highThreshold":1000,"lowThreshold":0,"appLockIn":false,"appLockOut":false,"cashItems":["EUR20"]},"status":{"index":2,"initial":{"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"out":{"presented":{"unrecognized":0,"EUR20":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}},"in":{"retractOperations":0,"deposited":{"unrecognized":0},"retracted":{"unrecognized":0},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"transport":{"unrecognized":0}},"accuracy":"notSupported","replenishmentStatus":"ok"},"unitName":"unit2"})[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m return from getStatusInitial: {"unrecognized":0,"EUR20":{"fit":300,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}[39m
[11:24:05.681] [90mTRACE[39m (Function): [36m getSumCashOut({"presented":{"unrecognized":0,"EUR20":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"rejected":{"unrecognized":0},"distributed":{"unrecognized":0},"unknown":{"unrecognized":0},"stacked":{"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}},"diverted":{"unrecognized":0},"transport":{"unrecognized":0}}, EUR20)[39m
[11:24:05.682] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":17,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:24:05.682] [90mTRACE[39m (Function): [36m return from getFitFrom: 17[39m
[11:24:05.682] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:24:05.682] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.682] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:24:05.682] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.682] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:24:05.682] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.682] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0,"EUR20":{"fit":0,"unfit":0,"suspect":0,"counterfeit":0,"inked":0}}, EUR20)[39m
[11:24:05.682] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.682] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:24:05.682] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.682] [90mTRACE[39m (Function): [36m getFitFrom({"unrecognized":0}, EUR20)[39m
[11:24:05.682] [90mTRACE[39m (Function): [36m return from getFitFrom: 0[39m
[11:24:05.682] [90mTRACE[39m (Function): [36m return from getSumCashOut: 17[39m
[11:24:05.682] [90mTRACE[39m (Function): [36m return from getAvailablesFrom: 283[39m
[11:24:05.682] [90mTRACE[39m (Function): [36m return from getMinimumValues: {"unit1":1,"unit2":1}[39m
[11:24:05.682] [90mTRACE[39m (Function): [36m return from buildDenominationFromDispenseDistributionCommand: {"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}}[39m
[11:24:05.682] [90mTRACE[39m (Device): [36m|------------> send({"header":{"name":"CashDispenser.Dispense","type":"command","requestId":56},"payload":{"timeout":60000,"denomination":{"timeout":30000,"tellerID":0,"denomination":{"currencies":{"EUR":70},"values":{"unit1":1,"unit2":1}}},"token":"NONCE=254611E63B2531576314E86527338D61A"}}, (ack) => this.logger.debug(`ack received SetStorage ${JSON.stringify(ack)}`), (event) => this.logger.debug(`event recieved SetStorage ${JSON.stringify(event)}`))[39m
[11:24:05.676] [34mDEBUG[39m (MdcsIotDevices): [36mconfigureWebsocket[/mdcs4iot/devices/v1.0/CASH]::Client of MdcsIotDevices received: {"device":"CASH_DISPENSER","type":"PrepareDispenseDistribution","amount":70,"distributions":[{"numBills":1,"denom":50},{"numBills":1,"denom":20}],"currency":"EUR"}[39m
función de error
función de final
[11:24:07.697] [31mERROR[39m (CashDispenser): [36mError tratando comando retract: Error: Ack timeout: 3000[39m
[FBST] result: {"type":"CommandError","device":"CASH_DISPENSER","originalCommand":"PrepareDispenseDistribution","error":"Error tratando comando prepareDispenseDistribution: Error: Ack timeout: 3000"}
[11:24:08.683] [31mERROR[39m (MdcsIotUtils): [36mDetectada respuesta invalida, json no parseable: Error tratando comando prepareDispenseDistribution: Error: Ack timeout: 3000[39m
[11:24:08.683] [31mERROR[39m (CashDispenser): [36mError tratando comando prepareDispenseDistribution: Error: Ack timeout: 3000[39m
[11:24:08.685] [34mDEBUG[39m (TEST): [36mRecibido mensaje del cash-dispenser: "{\"type\":\"CommandError\",\"device\":\"CASH_DISPENSER\",\"originalCommand\":\"PrepareDispenseDistribution\",\"error\":\"Error tratando comando prepareDispenseDistribution: Error: Ack timeout: 3000\"}"[39m
[11:40:46.469] [34mDEBUG[39m (MdcsIotDevices): [36mcreateConnection closed connection on: wss://signaling.demoreta-arevalo.com:443: 1006 ()[39m
